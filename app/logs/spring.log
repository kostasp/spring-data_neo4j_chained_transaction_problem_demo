2017-05-11 15:43:16.244  INFO 69516 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69516 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 15:43:16.246  INFO 69516 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : No active profile set, falling back to default profiles: default
2017-05-11 15:43:16.385  INFO 69516 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@41e1e210: startup date [Thu May 11 15:43:16 EEST 2017]; root of context hierarchy
2017-05-11 15:43:18.556  INFO 69516 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:43:18.870  INFO 69516 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:43:18.921  INFO 69516 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 15:43:20.392  WARN 69516 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$86ebc785]: Constructor threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'databaseConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'SPRING_DATASOURCE_URL' in value "${SPRING_DATASOURCE_URL}"
2017-05-11 15:43:20.405  INFO 69516 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 15:43:20.421 ERROR 69516 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$86ebc785]: Constructor threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'databaseConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'SPRING_DATASOURCE_URL' in value "${SPRING_DATASOURCE_URL}"
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:279) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:372) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$86ebc785]: Constructor threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'databaseConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'SPRING_DATASOURCE_URL' in value "${SPRING_DATASOURCE_URL}"
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:154) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:271) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'databaseConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'SPRING_DATASOURCE_URL' in value "${SPRING_DATASOURCE_URL}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:372) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:372) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:1675) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.<init>(FlywayAutoConfiguration.java:101) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$86ebc785.<init>(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_66]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:422) ~[na:1.8.0_66]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 59 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'SPRING_DATASOURCE_URL' in value "${SPRING_DATASOURCE_URL}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:236) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.AbstractPropertyResolver.resolveNestedPlaceholders(AbstractPropertyResolver.java:227) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:83) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:61) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:530) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$1.getProperty(PropertySourcesPlaceholderConfigurer.java:132) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$1.getProperty(PropertySourcesPlaceholderConfigurer.java:129) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:80) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getPropertyAsRawString(PropertySourcesPropertyResolver.java:71) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.AbstractPropertyResolver$1.resolvePlaceholder(AbstractPropertyResolver.java:239) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:147) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:236) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:831) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1086) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 85 common frames omitted

2017-05-11 15:43:20.430 ERROR 69516 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@15b3e5b] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@34237b90]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$86ebc785]: Constructor threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'databaseConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'SPRING_DATASOURCE_URL' in value "${SPRING_DATASOURCE_URL}"
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:279) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:372) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 29 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$86ebc785]: Constructor threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'databaseConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'SPRING_DATASOURCE_URL' in value "${SPRING_DATASOURCE_URL}"
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:154) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:271) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'databaseConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'SPRING_DATASOURCE_URL' in value "${SPRING_DATASOURCE_URL}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:372) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:372) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:1675) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.<init>(FlywayAutoConfiguration.java:101) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$86ebc785.<init>(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_66]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:422) ~[na:1.8.0_66]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 59 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'SPRING_DATASOURCE_URL' in value "${SPRING_DATASOURCE_URL}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:236) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.AbstractPropertyResolver.resolveNestedPlaceholders(AbstractPropertyResolver.java:227) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:83) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:61) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:530) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$1.getProperty(PropertySourcesPlaceholderConfigurer.java:132) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$1.getProperty(PropertySourcesPlaceholderConfigurer.java:129) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:80) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getPropertyAsRawString(PropertySourcesPropertyResolver.java:71) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.AbstractPropertyResolver$1.resolvePlaceholder(AbstractPropertyResolver.java:239) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:147) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:236) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:831) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1086) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 85 common frames omitted

2017-05-11 15:44:33.553  INFO 69532 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69532 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 15:44:33.558  INFO 69532 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 15:44:33.718  INFO 69532 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@495fac5f: startup date [Thu May 11 15:44:33 EEST 2017]; root of context hierarchy
2017-05-11 15:44:35.389  INFO 69532 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:44:35.709  INFO 69532 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:44:35.761  INFO 69532 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 15:44:37.604  INFO 69532 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 15:44:37.621  INFO 69532 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 15:44:37.684  WARN 69532 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
2017-05-11 15:44:37.701  INFO 69532 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 15:44:37.714 ERROR 69532 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:55) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:110) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:41) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.collectMigrations(CompositeMigrationResolver.java:126) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:108) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:94) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:42) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:96) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:136) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.jdbc.TransactionTemplate.execute(TransactionTemplate.java:72) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:1102) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.access$300(Flyway.java:62) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1012) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.execute(Flyway.java:1418) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 41 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Unable to determine URL for classpath location: db/schema/postgresql (ClassLoader: sun.misc.Launcher$AppClassLoader@14dad5dc)
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.getLocationUrlsForPath(ClassPathScanner.java:192) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.findResourceNames(ClassPathScanner.java:148) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.scanForResources(ClassPathScanner.java:73) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:53) ~[flyway-core-3.2.1.jar:na]
	... 61 common frames omitted

2017-05-11 15:44:37.719 ERROR 69532 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6a6cb05c] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@4c5228e7]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 24 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:55) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:110) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:41) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.collectMigrations(CompositeMigrationResolver.java:126) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:108) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:94) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:42) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:96) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:136) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.jdbc.TransactionTemplate.execute(TransactionTemplate.java:72) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:1102) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.access$300(Flyway.java:62) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1012) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.execute(Flyway.java:1418) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 41 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Unable to determine URL for classpath location: db/schema/postgresql (ClassLoader: sun.misc.Launcher$AppClassLoader@14dad5dc)
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.getLocationUrlsForPath(ClassPathScanner.java:192) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.findResourceNames(ClassPathScanner.java:148) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.scanForResources(ClassPathScanner.java:73) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:53) ~[flyway-core-3.2.1.jar:na]
	... 61 common frames omitted

2017-05-11 15:45:48.416  INFO 69547 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69547 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 15:45:48.418  INFO 69547 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 15:45:48.574  INFO 69547 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@495fac5f: startup date [Thu May 11 15:45:48 EEST 2017]; root of context hierarchy
2017-05-11 15:45:50.240  INFO 69547 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:45:50.462  INFO 69547 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:45:50.507  INFO 69547 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 15:45:52.130  INFO 69547 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 15:45:52.136  INFO 69547 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 15:45:52.188  WARN 69547 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
2017-05-11 15:45:52.213  INFO 69547 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 15:45:52.228 ERROR 69547 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:55) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:110) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:41) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.collectMigrations(CompositeMigrationResolver.java:126) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:108) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:94) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:42) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:96) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:136) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.jdbc.TransactionTemplate.execute(TransactionTemplate.java:72) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:1102) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.access$300(Flyway.java:62) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1012) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.execute(Flyway.java:1418) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 41 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Unable to determine URL for classpath location: db/schema/postgresql (ClassLoader: sun.misc.Launcher$AppClassLoader@14dad5dc)
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.getLocationUrlsForPath(ClassPathScanner.java:192) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.findResourceNames(ClassPathScanner.java:148) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.scanForResources(ClassPathScanner.java:73) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:53) ~[flyway-core-3.2.1.jar:na]
	... 61 common frames omitted

2017-05-11 15:45:52.233 ERROR 69547 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6a6cb05c] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@177515d1]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 24 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:55) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:110) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:41) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.collectMigrations(CompositeMigrationResolver.java:126) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:108) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:94) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:42) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:96) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:136) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.jdbc.TransactionTemplate.execute(TransactionTemplate.java:72) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:1102) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.access$300(Flyway.java:62) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1012) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.execute(Flyway.java:1418) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 41 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Unable to determine URL for classpath location: db/schema/postgresql (ClassLoader: sun.misc.Launcher$AppClassLoader@14dad5dc)
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.getLocationUrlsForPath(ClassPathScanner.java:192) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.findResourceNames(ClassPathScanner.java:148) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.scanForResources(ClassPathScanner.java:73) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:53) ~[flyway-core-3.2.1.jar:na]
	... 61 common frames omitted

2017-05-11 15:46:36.994  INFO 69555 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69555 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 15:46:36.996  INFO 69555 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 15:46:37.182  INFO 69555 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6bbe2511: startup date [Thu May 11 15:46:37 EEST 2017]; root of context hierarchy
2017-05-11 15:46:38.606  INFO 69555 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:46:38.784  INFO 69555 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:46:38.849  INFO 69555 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 15:46:40.782  INFO 69555 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 15:46:40.792  INFO 69555 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 15:46:40.848  WARN 69555 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
2017-05-11 15:46:40.867  INFO 69555 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 15:46:40.880 ERROR 69555 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:55) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:110) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:41) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.collectMigrations(CompositeMigrationResolver.java:126) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:108) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:94) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:42) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:96) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:136) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.jdbc.TransactionTemplate.execute(TransactionTemplate.java:72) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:1102) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.access$300(Flyway.java:62) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1012) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.execute(Flyway.java:1418) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 41 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Unable to determine URL for classpath location: db/schema/postgresql (ClassLoader: sun.misc.Launcher$AppClassLoader@14dad5dc)
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.getLocationUrlsForPath(ClassPathScanner.java:192) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.findResourceNames(ClassPathScanner.java:148) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.scanForResources(ClassPathScanner.java:73) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:53) ~[flyway-core-3.2.1.jar:na]
	... 61 common frames omitted

2017-05-11 15:46:40.885 ERROR 69555 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6a6cb05c] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@16727bf0]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 24 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:55) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:110) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:41) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.collectMigrations(CompositeMigrationResolver.java:126) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:108) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:94) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:42) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:96) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:136) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.jdbc.TransactionTemplate.execute(TransactionTemplate.java:72) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:1102) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.access$300(Flyway.java:62) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1012) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.execute(Flyway.java:1418) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 41 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Unable to determine URL for classpath location: db/schema/postgresql (ClassLoader: sun.misc.Launcher$AppClassLoader@14dad5dc)
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.getLocationUrlsForPath(ClassPathScanner.java:192) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.findResourceNames(ClassPathScanner.java:148) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.scanForResources(ClassPathScanner.java:73) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:53) ~[flyway-core-3.2.1.jar:na]
	... 61 common frames omitted

2017-05-11 15:48:18.094  INFO 69573 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69573 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 15:48:18.106  INFO 69573 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 15:48:18.263  INFO 69573 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6bbe2511: startup date [Thu May 11 15:48:18 EEST 2017]; root of context hierarchy
2017-05-11 15:48:19.955  INFO 69573 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:48:20.282  INFO 69573 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:48:20.377  INFO 69573 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 15:48:22.279  INFO 69573 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 15:48:22.285  INFO 69573 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 15:48:22.361  WARN 69573 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
2017-05-11 15:48:22.380  INFO 69573 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 15:48:22.395 ERROR 69573 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:55) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:110) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:41) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.collectMigrations(CompositeMigrationResolver.java:126) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:108) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:94) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:42) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:96) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:136) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.jdbc.TransactionTemplate.execute(TransactionTemplate.java:72) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:1102) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.access$300(Flyway.java:62) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1012) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.execute(Flyway.java:1418) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 41 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Unable to determine URL for classpath location: db/schema/postgresql (ClassLoader: sun.misc.Launcher$AppClassLoader@14dad5dc)
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.getLocationUrlsForPath(ClassPathScanner.java:192) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.findResourceNames(ClassPathScanner.java:148) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.scanForResources(ClassPathScanner.java:73) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:53) ~[flyway-core-3.2.1.jar:na]
	... 61 common frames omitted

2017-05-11 15:48:22.399 ERROR 69573 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6a6cb05c] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@20d87335]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 24 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Unable to scan for SQL migrations in location: classpath:db/schema/postgresql
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:55) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:110) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationResolver.resolveMigrations(SqlMigrationResolver.java:41) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.collectMigrations(CompositeMigrationResolver.java:126) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.doFindAvailableMigrations(CompositeMigrationResolver.java:108) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:94) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.resolver.CompositeMigrationResolver.resolveMigrations(CompositeMigrationResolver.java:42) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.refresh(MigrationInfoServiceImpl.java:96) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:136) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate$2.doInTransaction(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.jdbc.TransactionTemplate.execute(TransactionTemplate.java:72) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:131) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.doValidate(Flyway.java:1102) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.access$300(Flyway.java:62) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1012) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.execute(Flyway.java:1418) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:1006) ~[flyway-core-3.2.1.jar:na]
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 41 common frames omitted
Caused by: org.flywaydb.core.api.FlywayException: Unable to determine URL for classpath location: db/schema/postgresql (ClassLoader: sun.misc.Launcher$AppClassLoader@14dad5dc)
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.getLocationUrlsForPath(ClassPathScanner.java:192) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.findResourceNames(ClassPathScanner.java:148) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.classpath.ClassPathScanner.scanForResources(ClassPathScanner.java:73) ~[flyway-core-3.2.1.jar:na]
	at org.flywaydb.core.internal.util.scanner.Scanner.scanForResources(Scanner.java:53) ~[flyway-core-3.2.1.jar:na]
	... 61 common frames omitted

2017-05-11 15:49:49.701  INFO 69657 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69657 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 15:49:49.704  INFO 69657 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 15:49:49.855  INFO 69657 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@495fac5f: startup date [Thu May 11 15:49:49 EEST 2017]; root of context hierarchy
2017-05-11 15:49:51.176  INFO 69657 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:49:51.368  INFO 69657 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:49:51.409  INFO 69657 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 15:49:53.261  INFO 69657 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 15:49:53.269  INFO 69657 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 15:49:53.356  INFO 69657 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.027s)
2017-05-11 15:49:53.386  INFO 69657 --- [main] o.f.c.i.metadatatable.MetaDataTableImpl  : Creating Metadata table: "public"."schema_version"
2017-05-11 15:49:53.568  INFO 69657 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": << Empty Schema >>
2017-05-11 15:49:53.569  INFO 69657 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version 1.0.0 - Schema
2017-05-11 15:49:53.694  INFO 69657 --- [main] o.f.core.internal.command.DbMigrate      : Successfully applied 1 migration to schema "public" (execution time 00:00.311s).
2017-05-11 15:49:53.936  INFO 69657 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 15:49:53.965  INFO 69657 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 15:49:54.091  INFO 69657 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 15:49:54.094  INFO 69657 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 15:49:54.097  INFO 69657 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 15:49:54.204  INFO 69657 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 15:49:54.524  INFO 69657 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 15:49:54.828  INFO 69657 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 15:49:54.831  INFO 69657 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@17222c11
2017-05-11 15:49:55.307  WARN 69657 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 15:49:55.645  INFO 69657 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 15:49:55.685  INFO 69657 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 15:49:55.838  INFO 69657 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 15:49:56.377  WARN 69657 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name '/api/': Unsatisfied dependency expressed through field 'wrapperService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.test.neo4j.transaction.repository.TestNodeRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2017-05-11 15:49:56.378  INFO 69657 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 15:49:56.424  INFO 69657 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 15:49:56.626 ERROR 69657 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field testNodeRepository in org.test.neo4j.transaction.service.TestNodeService required a bean of type 'org.test.neo4j.transaction.repository.TestNodeRepository' that could not be found.


Action:

Consider defining a bean of type 'org.test.neo4j.transaction.repository.TestNodeRepository' in your configuration.

2017-05-11 15:49:56.642 ERROR 69657 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6a6cb05c] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@da5d5e1]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name '/api/': Unsatisfied dependency expressed through field 'wrapperService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.test.neo4j.transaction.repository.TestNodeRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.test.neo4j.transaction.repository.TestNodeRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 42 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.test.neo4j.transaction.repository.TestNodeRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 55 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.test.neo4j.transaction.repository.TestNodeRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1486) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 68 common frames omitted

2017-05-11 15:51:22.135  INFO 69676 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69676 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 15:51:22.139  INFO 69676 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 15:51:22.304  INFO 69676 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6bbe2511: startup date [Thu May 11 15:51:22 EEST 2017]; root of context hierarchy
2017-05-11 15:51:23.658  INFO 69676 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:51:23.689  INFO 69676 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 15:51:23.693  INFO 69676 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 15:51:23.907  INFO 69676 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:51:23.926  INFO 69676 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 15:51:25.874  INFO 69676 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 15:51:25.884  INFO 69676 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 15:51:25.970  INFO 69676 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.034s)
2017-05-11 15:51:26.028  INFO 69676 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 15:51:26.044  INFO 69676 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 15:51:26.262  INFO 69676 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 15:51:26.290  INFO 69676 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 15:51:26.390  INFO 69676 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 15:51:26.392  INFO 69676 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 15:51:26.398  INFO 69676 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 15:51:26.457  INFO 69676 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 15:51:26.778  INFO 69676 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 15:51:27.105  INFO 69676 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 15:51:27.107  INFO 69676 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@195580ba
2017-05-11 15:51:27.535  WARN 69676 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 15:51:27.539  WARN 69676 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 15:51:27.886  INFO 69676 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 15:51:27.925  INFO 69676 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 15:51:28.067  INFO 69676 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 15:51:28.702  INFO 69676 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 15:51:28.703  INFO 69676 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 15:51:28.704  INFO 69676 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 15:51:28.715  INFO 69676 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 15:51:28.715  INFO 69676 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 67538853 nanoseconds
2017-05-11 15:51:28.741  WARN 69676 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name '/api/': Unsatisfied dependency expressed through field 'wrapperService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
2017-05-11 15:51:28.742  INFO 69676 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 15:51:28.764  INFO 69676 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 15:51:28.786 ERROR 69676 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name '/api/': Unsatisfied dependency expressed through field 'wrapperService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 42 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 55 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:667) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:634) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:448) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 96 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 105 common frames omitted
Caused by: org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.neo4j.ogm.service.DriverService.load(DriverService.java:57) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.DriverService.load(DriverService.java:69) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.Components.loadDriver(Components.java:158) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.Components.driver(Components.java:104) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.session.SessionFactory.<init>(SessionFactory.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.SessionFactory.<init>(SessionFactory.java:93) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration.sessionFactory(Neo4jDataAutoConfiguration.java:73) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$b34ae77.CGLIB$sessionFactory$2(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$b34ae77$$FastClassBySpringCGLIB$$335b3535.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$b34ae77.sessionFactory(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 106 common frames omitted

2017-05-11 15:51:28.798 ERROR 69676 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6a6cb05c] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@aedc426]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name '/api/': Unsatisfied dependency expressed through field 'wrapperService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 42 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 55 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:667) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:634) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:448) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 96 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 105 common frames omitted
Caused by: org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.neo4j.ogm.service.DriverService.load(DriverService.java:57) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.DriverService.load(DriverService.java:69) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.Components.loadDriver(Components.java:158) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.Components.driver(Components.java:104) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.session.SessionFactory.<init>(SessionFactory.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.SessionFactory.<init>(SessionFactory.java:93) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration.sessionFactory(Neo4jDataAutoConfiguration.java:73) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$b34ae77.CGLIB$sessionFactory$2(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$b34ae77$$FastClassBySpringCGLIB$$335b3535.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$b34ae77.sessionFactory(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 106 common frames omitted

2017-05-11 15:53:40.197  INFO 69696 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69696 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 15:53:40.220  INFO 69696 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 15:53:40.321  INFO 69696 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6bbe2511: startup date [Thu May 11 15:53:40 EEST 2017]; root of context hierarchy
2017-05-11 15:53:41.847  INFO 69696 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:53:41.886  INFO 69696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 15:53:41.892  INFO 69696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 15:53:42.173  INFO 69696 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 15:53:42.197  INFO 69696 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 15:53:44.527  INFO 69696 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 15:53:44.541  INFO 69696 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 15:53:44.644  INFO 69696 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.034s)
2017-05-11 15:53:44.702  INFO 69696 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 15:53:44.714  INFO 69696 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 15:53:44.952  INFO 69696 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 15:53:44.977  INFO 69696 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 15:53:45.098  INFO 69696 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 15:53:45.104  INFO 69696 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 15:53:45.107  INFO 69696 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 15:53:45.221  INFO 69696 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 15:53:45.540  INFO 69696 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 15:53:45.877  INFO 69696 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 15:53:45.881  INFO 69696 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7a65c995
2017-05-11 15:53:46.271  WARN 69696 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 15:53:46.274  WARN 69696 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 15:53:46.577  INFO 69696 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 15:53:46.609  INFO 69696 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 15:53:46.732  INFO 69696 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 15:53:47.370  INFO 69696 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 15:53:47.371  INFO 69696 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 15:53:47.372  INFO 69696 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 15:53:47.388  INFO 69696 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 15:53:47.388  INFO 69696 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 76902477 nanoseconds
2017-05-11 15:53:47.408  WARN 69696 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name '/api/': Unsatisfied dependency expressed through field 'wrapperService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
2017-05-11 15:53:47.409  INFO 69696 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 15:53:47.429  INFO 69696 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 15:53:47.454 ERROR 69696 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name '/api/': Unsatisfied dependency expressed through field 'wrapperService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 42 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 55 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:667) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:634) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:448) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 96 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 105 common frames omitted
Caused by: org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.neo4j.ogm.service.DriverService.load(DriverService.java:57) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.DriverService.load(DriverService.java:69) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.Components.loadDriver(Components.java:158) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.Components.driver(Components.java:104) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.session.SessionFactory.<init>(SessionFactory.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.SessionFactory.<init>(SessionFactory.java:93) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration.sessionFactory(Neo4jDataAutoConfiguration.java:73) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$5c1f4544.CGLIB$sessionFactory$2(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$5c1f4544$$FastClassBySpringCGLIB$$dbb34836.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$5c1f4544.sessionFactory(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 106 common frames omitted

2017-05-11 15:53:47.471 ERROR 69696 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6a6cb05c] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@6eaf030c]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name '/api/': Unsatisfied dependency expressed through field 'wrapperService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 42 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 55 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:667) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:634) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:448) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 96 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 105 common frames omitted
Caused by: org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.neo4j.ogm.service.DriverService.load(DriverService.java:57) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.DriverService.load(DriverService.java:69) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.Components.loadDriver(Components.java:158) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.Components.driver(Components.java:104) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.session.SessionFactory.<init>(SessionFactory.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.SessionFactory.<init>(SessionFactory.java:93) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration.sessionFactory(Neo4jDataAutoConfiguration.java:73) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$5c1f4544.CGLIB$sessionFactory$2(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$5c1f4544$$FastClassBySpringCGLIB$$dbb34836.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$5c1f4544.sessionFactory(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 106 common frames omitted

2017-05-11 16:07:17.079  INFO 69944 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69944 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:07:17.155  INFO 69944 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:07:17.310  INFO 69944 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6bbe2511: startup date [Thu May 11 16:07:17 EEST 2017]; root of context hierarchy
2017-05-11 16:07:18.886  INFO 69944 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:07:18.915  INFO 69944 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:07:18.917  INFO 69944 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:07:19.064  INFO 69944 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:07:19.080  INFO 69944 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:07:21.264  INFO 69944 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:07:21.272  INFO 69944 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:07:21.419  INFO 69944 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.055s)
2017-05-11 16:07:21.476  INFO 69944 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 16:07:21.489  INFO 69944 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:07:21.775  INFO 69944 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:07:21.801  INFO 69944 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:07:21.907  INFO 69944 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:07:21.911  INFO 69944 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:07:21.913  INFO 69944 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:07:22.039  INFO 69944 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:07:22.539  INFO 69944 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:07:22.999  INFO 69944 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:07:23.005  INFO 69944 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@677ce519
2017-05-11 16:07:23.531  WARN 69944 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:07:23.536  WARN 69944 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:07:23.930  INFO 69944 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:07:23.972  INFO 69944 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:07:24.143  INFO 69944 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:07:24.862  INFO 69944 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:07:24.864  INFO 69944 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:07:24.866  INFO 69944 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:07:24.876  INFO 69944 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:07:24.876  INFO 69944 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 51508373 nanoseconds
2017-05-11 16:07:24.898  WARN 69944 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name '/api/': Unsatisfied dependency expressed through field 'wrapperService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
2017-05-11 16:07:24.900  INFO 69944 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:07:24.939  INFO 69944 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 16:07:24.959 ERROR 69944 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name '/api/': Unsatisfied dependency expressed through field 'wrapperService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 42 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 55 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:667) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:634) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:448) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 96 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 105 common frames omitted
Caused by: org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.neo4j.ogm.service.DriverService.load(DriverService.java:57) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.DriverService.load(DriverService.java:69) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.Components.loadDriver(Components.java:158) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.Components.driver(Components.java:104) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.session.SessionFactory.<init>(SessionFactory.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.SessionFactory.<init>(SessionFactory.java:93) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration.sessionFactory(Neo4jDataAutoConfiguration.java:73) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$537df4b6.CGLIB$sessionFactory$1(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$537df4b6$$FastClassBySpringCGLIB$$fabfcd1f.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$537df4b6.sessionFactory(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 106 common frames omitted

2017-05-11 16:07:24.971 ERROR 69944 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6a6cb05c] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@b34c7c9]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name '/api/': Unsatisfied dependency expressed through field 'wrapperService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'wrapperService': Unsatisfied dependency expressed through field 'testNodeService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 42 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeService': Unsatisfied dependency expressed through field 'testNodeRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 55 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'testNodeRepository': Unsatisfied dependency expressed through method 'setSession' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:667) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.data.neo4j.transaction.SharedSessionCreator#0': Cannot resolve reference to bean 'sessionFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:634) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:448) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/neo4j/Neo4jDataAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 96 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method 'sessionFactory' threw exception; nested exception is org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 105 common frames omitted
Caused by: org.neo4j.ogm.exception.ServiceNotFoundException: Could not load driver: org.neo4j.ogm.drivers.bolt.driver.BoltDriver.
	at org.neo4j.ogm.service.DriverService.load(DriverService.java:57) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.DriverService.load(DriverService.java:69) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.Components.loadDriver(Components.java:158) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.service.Components.driver(Components.java:104) ~[neo4j-ogm-api-2.1.2.jar:na]
	at org.neo4j.ogm.session.SessionFactory.<init>(SessionFactory.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.SessionFactory.<init>(SessionFactory.java:93) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration.sessionFactory(Neo4jDataAutoConfiguration.java:73) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$537df4b6.CGLIB$sessionFactory$1(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$537df4b6$$FastClassBySpringCGLIB$$fabfcd1f.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration$$EnhancerBySpringCGLIB$$537df4b6.sessionFactory(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 106 common frames omitted

2017-05-11 16:11:07.200  INFO 69951 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69951 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:11:07.233  INFO 69951 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:11:07.668  INFO 69951 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6399551e: startup date [Thu May 11 16:11:07 EEST 2017]; root of context hierarchy
2017-05-11 16:11:09.330  INFO 69951 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:11:09.366  INFO 69951 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:11:09.371  INFO 69951 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:11:09.625  INFO 69951 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:11:09.648  INFO 69951 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:11:11.315  INFO 69951 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:11:11.321  INFO 69951 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:11:11.409  INFO 69951 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.037s)
2017-05-11 16:11:11.446  INFO 69951 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 16:11:11.459  INFO 69951 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:11:11.697  INFO 69951 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:11:11.728  INFO 69951 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:11:11.834  INFO 69951 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:11:11.837  INFO 69951 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:11:11.840  INFO 69951 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:11:11.891  INFO 69951 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:11:12.205  INFO 69951 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:11:12.512  INFO 69951 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:11:12.519  INFO 69951 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@261b9a37
2017-05-11 16:11:12.878  WARN 69951 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:11:12.882  WARN 69951 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:11:13.193  INFO 69951 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:11:13.224  INFO 69951 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:11:13.359  INFO 69951 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:11:13.900  INFO 69951 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:11:13.901  INFO 69951 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:11:13.901  INFO 69951 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:11:13.925  INFO 69951 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:11:13.927  INFO 69951 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 75704787 nanoseconds
2017-05-11 16:11:13.943  INFO 69951 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:11:14.193  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:11:14.193  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:11:14.193  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:11:14.196  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:11:14.203  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:11:14.203  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:11:14.204  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:11:14.205  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:11:14.208  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:11:14.209  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:11:14.210  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:11:14.220  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:11:14.220  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:11:14.220  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:11:14.220  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:11:14.221  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:11:14.222  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:11:14.222  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:11:14.224  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:11:14.225  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:11:14.227  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:11:14.228  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:11:14.234  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.domain.TestNode when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.domain.TestNode.uniqueId
2017-05-11 16:11:14.234  WARN 69951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.domain.TestNode when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.domain.TestNode.name
2017-05-11 16:11:14.244  INFO 69951 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:11:15.361  INFO 69951 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@6399551e: startup date [Thu May 11 16:11:07 EEST 2017]; root of context hierarchy
2017-05-11 16:11:15.526  INFO 69951 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:11:15.532  INFO 69951 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:11:15.532  INFO 69951 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:11:15.569  INFO 69951 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:11:15.624  INFO 69951 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:11:15.628  INFO 69951 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:11:15.680  INFO 69951 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:11:15.729  INFO 69951 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:11:16.375  INFO 69951 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 11.123 seconds (JVM running for 12.999)
2017-05-11 16:11:17.007  INFO 69951 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@41a2befb testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@301e5d23, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6c40365c testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@1e802ef9, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@670002, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@35047d03, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@4c9f8c13], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.data.transaction.ChainedTransactionManager@3573e19d]; rollback [true]
2017-05-11 16:11:17.145  INFO 69951 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 16:11:17.745  INFO 69951 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test context [DefaultTestContext@41a2befb testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@301e5d23, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = java.lang.AssertionError, mergedContextConfiguration = [WebMergedContextConfiguration@6c40365c testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@1e802ef9, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@670002, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@35047d03, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@4c9f8c13], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2017-05-11 16:11:17.775  INFO 69951 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@6399551e: startup date [Thu May 11 16:11:07 EEST 2017]; root of context hierarchy
2017-05-11 16:11:17.784  INFO 69951 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@3b968ab4 
2017-05-11 16:11:17.789  INFO 69951 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:12:32.721  INFO 69953 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69953 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:12:32.723  INFO 69953 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:12:32.836  INFO 69953 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6399551e: startup date [Thu May 11 16:12:32 EEST 2017]; root of context hierarchy
2017-05-11 16:12:34.139  INFO 69953 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:12:34.160  INFO 69953 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:12:34.162  INFO 69953 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:12:34.326  INFO 69953 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:12:34.373  INFO 69953 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:12:36.345  INFO 69953 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:12:36.353  INFO 69953 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:12:36.480  INFO 69953 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.044s)
2017-05-11 16:12:36.525  INFO 69953 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 16:12:36.546  INFO 69953 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:12:36.855  INFO 69953 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:12:36.887  INFO 69953 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:12:37.036  INFO 69953 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:12:37.038  INFO 69953 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:12:37.041  INFO 69953 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:12:37.217  INFO 69953 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:12:37.616  INFO 69953 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:12:37.998  INFO 69953 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:12:38.001  INFO 69953 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@1472208d
2017-05-11 16:12:38.469  WARN 69953 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:12:38.477  WARN 69953 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:12:38.829  INFO 69953 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:12:38.879  INFO 69953 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:12:39.116  INFO 69953 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:12:39.803  INFO 69953 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:12:39.803  INFO 69953 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:12:39.804  INFO 69953 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:12:39.819  INFO 69953 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:12:39.819  INFO 69953 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 57573838 nanoseconds
2017-05-11 16:12:39.845  INFO 69953 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:12:40.117  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:12:40.118  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:12:40.119  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:12:40.122  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:12:40.128  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:12:40.131  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:12:40.137  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:12:40.137  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:12:40.138  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:12:40.138  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:12:40.138  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:12:40.155  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:12:40.156  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:12:40.159  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:12:40.166  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:12:40.167  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:12:40.168  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:12:40.168  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:12:40.169  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:12:40.169  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:12:40.169  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:12:40.171  WARN 69953 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:12:40.193  INFO 69953 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:12:41.575  INFO 69953 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@6399551e: startup date [Thu May 11 16:12:32 EEST 2017]; root of context hierarchy
2017-05-11 16:12:41.754  INFO 69953 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:12:41.760  INFO 69953 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:12:41.761  INFO 69953 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:12:41.822  INFO 69953 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:12:41.868  INFO 69953 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:12:41.869  INFO 69953 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:12:41.907  INFO 69953 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:12:41.974  INFO 69953 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:12:42.622  INFO 69953 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 11.067 seconds (JVM running for 12.759)
2017-05-11 16:12:43.327  INFO 69953 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@41a2befb testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@becb93a, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6c40365c testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@1e802ef9, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@670002, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@35047d03, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@4c9f8c13], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.data.transaction.ChainedTransactionManager@197d5a87]; rollback [true]
2017-05-11 16:12:43.616  INFO 69953 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 16:12:43.732  INFO 69953 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1734247619, type=node, props={name=test_name_2, uniqueId=testUniqueId}}]}
2017-05-11 16:12:43.732  INFO 69953 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-512109815, type=node, props={name=test_name_0, uniqueId=testUniqueId}}]}
2017-05-11 16:12:43.732  INFO 69953 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1368660663, type=node, props={name=test_name_1, uniqueId=testUniqueId}}]}
2017-05-11 16:12:44.266  INFO 69953 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test context [DefaultTestContext@41a2befb testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@becb93a, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = java.lang.AssertionError, mergedContextConfiguration = [WebMergedContextConfiguration@6c40365c testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@1e802ef9, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@670002, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@35047d03, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@4c9f8c13], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2017-05-11 16:12:44.279  INFO 69953 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@6399551e: startup date [Thu May 11 16:12:32 EEST 2017]; root of context hierarchy
2017-05-11 16:12:44.283  INFO 69953 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@287da465 
2017-05-11 16:12:44.293  INFO 69953 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:12:44.312  WARN 69953 --- [Thread-6] o.n.o.d.b.transaction.BoltTransaction    : Transaction is already closed
2017-05-11 16:12:44.314  WARN 69953 --- [Thread-7] o.n.o.d.b.transaction.BoltTransaction    : Transaction is already closed
2017-05-11 16:14:34.618  INFO 69955 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69955 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:14:34.623  INFO 69955 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:14:34.873  INFO 69955 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1c32386d: startup date [Thu May 11 16:14:34 EEST 2017]; root of context hierarchy
2017-05-11 16:14:37.290  INFO 69955 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:14:37.333  INFO 69955 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:14:37.337  INFO 69955 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:14:37.712  INFO 69955 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:14:37.741  INFO 69955 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:14:40.173  INFO 69955 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:14:40.180  INFO 69955 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:14:40.274  INFO 69955 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.033s)
2017-05-11 16:14:40.312  INFO 69955 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 16:14:40.328  INFO 69955 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:14:40.851  INFO 69955 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:14:40.921  INFO 69955 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:14:41.175  INFO 69955 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:14:41.179  INFO 69955 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:14:41.182  INFO 69955 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:14:41.292  INFO 69955 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:14:41.792  INFO 69955 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:14:42.175  INFO 69955 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:14:42.182  INFO 69955 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@1e1e837d
2017-05-11 16:14:42.637  WARN 69955 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:14:42.642  WARN 69955 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:14:43.017  INFO 69955 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:14:43.062  INFO 69955 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:14:43.227  INFO 69955 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:14:43.919  INFO 69955 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:14:43.920  INFO 69955 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:14:43.920  INFO 69955 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:14:43.936  INFO 69955 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:14:43.937  INFO 69955 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 62922107 nanoseconds
2017-05-11 16:14:43.963  INFO 69955 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:14:44.253  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:14:44.256  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:14:44.256  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:14:44.260  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:14:44.264  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:14:44.267  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:14:44.267  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:14:44.268  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:14:44.268  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:14:44.268  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:14:44.268  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:14:44.275  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:14:44.275  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:14:44.276  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:14:44.276  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:14:44.276  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:14:44.277  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:14:44.277  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:14:44.278  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:14:44.279  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:14:44.280  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:14:44.281  WARN 69955 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:14:44.311  INFO 69955 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:14:45.444  INFO 69955 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1c32386d: startup date [Thu May 11 16:14:34 EEST 2017]; root of context hierarchy
2017-05-11 16:14:45.592  INFO 69955 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:14:45.597  INFO 69955 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:14:45.599  INFO 69955 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:14:45.652  INFO 69955 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:14:45.726  INFO 69955 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:14:45.726  INFO 69955 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:14:45.785  INFO 69955 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:14:45.838  INFO 69955 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:14:46.522  INFO 69955 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 13.298 seconds (JVM running for 16.122)
2017-05-11 16:14:47.021  INFO 69955 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@41a2befb testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@5feff876, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6c40365c testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@1e802ef9, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@670002, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@35047d03, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@4c9f8c13], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.data.transaction.ChainedTransactionManager@24068086]; rollback [true]
2017-05-11 16:14:52.513  INFO 69955 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 16:14:52.659  INFO 69955 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1843952395, type=node, props={name=test_name_1, uniqueId=testUniqueId}}]}
2017-05-11 16:14:52.661  INFO 69955 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1298660467, type=node, props={name=test_name_2, uniqueId=testUniqueId}}]}
2017-05-11 16:14:52.667  INFO 69955 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-81547345, type=node, props={name=test_name_0, uniqueId=testUniqueId}}]}
2017-05-11 16:14:53.216  INFO 69955 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test context [DefaultTestContext@41a2befb testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@5feff876, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = java.lang.AssertionError, mergedContextConfiguration = [WebMergedContextConfiguration@6c40365c testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@1e802ef9, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@670002, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@35047d03, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@4c9f8c13], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2017-05-11 16:15:02.596  INFO 69955 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1c32386d: startup date [Thu May 11 16:14:34 EEST 2017]; root of context hierarchy
2017-05-11 16:15:02.603  INFO 69955 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@5b45eeaa 
2017-05-11 16:15:23.653  INFO 69955 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:17:02.735  INFO 69961 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69961 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:17:02.780  INFO 69961 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:17:02.933  INFO 69961 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1c32386d: startup date [Thu May 11 16:17:02 EEST 2017]; root of context hierarchy
2017-05-11 16:17:04.516  INFO 69961 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:17:04.538  INFO 69961 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:17:04.541  INFO 69961 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:17:04.716  INFO 69961 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:17:04.758  INFO 69961 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:17:06.437  INFO 69961 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:17:06.462  INFO 69961 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:17:06.557  INFO 69961 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.031s)
2017-05-11 16:17:06.594  INFO 69961 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 16:17:06.606  INFO 69961 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:17:06.837  INFO 69961 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:17:06.863  INFO 69961 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:17:06.976  INFO 69961 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:17:06.979  INFO 69961 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:17:06.981  INFO 69961 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:17:07.080  INFO 69961 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:17:07.503  INFO 69961 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:17:07.837  INFO 69961 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:17:07.844  INFO 69961 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@37c5284a
2017-05-11 16:17:08.321  WARN 69961 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:17:08.327  WARN 69961 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:17:08.818  INFO 69961 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:17:08.883  INFO 69961 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:17:09.129  INFO 69961 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:17:10.016  INFO 69961 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:17:10.017  INFO 69961 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:17:10.017  INFO 69961 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:17:10.032  INFO 69961 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:17:10.032  INFO 69961 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 86726105 nanoseconds
2017-05-11 16:17:10.055  INFO 69961 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:17:10.325  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:17:10.326  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:17:10.327  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:17:10.333  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:17:10.336  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:17:10.340  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:17:10.341  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:17:10.341  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:17:10.341  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:17:10.341  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:17:10.342  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:17:10.351  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:17:10.351  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:17:10.352  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:17:10.352  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:17:10.352  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:17:10.352  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:17:10.353  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:17:10.355  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:17:10.356  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:17:10.356  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:17:10.356  WARN 69961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:17:10.396  INFO 69961 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:17:13.673  INFO 69961 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1c32386d: startup date [Thu May 11 16:17:02 EEST 2017]; root of context hierarchy
2017-05-11 16:17:13.984  INFO 69961 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:17:13.996  INFO 69961 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:17:13.997  INFO 69961 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:17:14.066  INFO 69961 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:17:14.092  INFO 69961 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:17:14.092  INFO 69961 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:17:14.125  INFO 69961 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:17:14.204  INFO 69961 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:17:14.986  INFO 69961 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 13.36 seconds (JVM running for 15.272)
2017-05-11 16:17:15.605  INFO 69961 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@41a2befb testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@4ae5ddc0, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6c40365c testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@1e802ef9, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@670002, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@35047d03, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@4c9f8c13], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.data.transaction.ChainedTransactionManager@526893f]; rollback [true]
2017-05-11 16:17:19.225  INFO 69961 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 16:17:19.357  INFO 69961 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-765675528, type=node, props={name=test_name_1, uniqueId=testUniqueId}}]}
2017-05-11 16:17:19.357  INFO 69961 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1200619584, type=node, props={name=test_name_2, uniqueId=testUniqueId}}]}
2017-05-11 16:17:19.357  INFO 69961 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-83797833, type=node, props={name=test_name_0, uniqueId=testUniqueId}}]}
2017-05-11 16:17:20.467  INFO 69961 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test context [DefaultTestContext@41a2befb testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@4ae5ddc0, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = java.lang.AssertionError, mergedContextConfiguration = [WebMergedContextConfiguration@6c40365c testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@1e802ef9, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@670002, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@35047d03, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@4c9f8c13], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2017-05-11 16:17:20.547  INFO 69961 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1c32386d: startup date [Thu May 11 16:17:02 EEST 2017]; root of context hierarchy
2017-05-11 16:17:20.551  INFO 69961 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@4054fd0e 
2017-05-11 16:17:20.560  INFO 69961 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:17:20.576 ERROR 69961 --- [Thread-6] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Unable to process request: AsynchronousCloseException buffer: 
; nested exception is org.neo4j.ogm.exception.TransactionException: Unable to process request: AsynchronousCloseException buffer: 

	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$711273f9.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:46) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Unable to process request: AsynchronousCloseException buffer: 

	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:17:20.578 ERROR 69961 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Unable to process request: AsynchronousCloseException buffer: 
; nested exception is org.neo4j.ogm.exception.TransactionException: Unable to process request: AsynchronousCloseException buffer: 

	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$711273f9.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:46) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Unable to process request: AsynchronousCloseException buffer: 

	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:22:02.321  INFO 69966 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69966 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:22:02.323  INFO 69966 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:22:02.524  INFO 69966 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6bedbc4d: startup date [Thu May 11 16:22:02 EEST 2017]; root of context hierarchy
2017-05-11 16:22:04.176  INFO 69966 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:22:04.203  INFO 69966 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:22:04.207  INFO 69966 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:22:04.425  INFO 69966 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:22:04.461  INFO 69966 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:22:06.130  INFO 69966 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:22:06.143  INFO 69966 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:22:06.247  INFO 69966 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.037s)
2017-05-11 16:22:06.299  INFO 69966 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 16:22:06.319  INFO 69966 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:22:06.514  INFO 69966 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:22:06.540  INFO 69966 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:22:06.664  INFO 69966 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:22:06.666  INFO 69966 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:22:06.669  INFO 69966 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:22:06.734  INFO 69966 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:22:06.978  INFO 69966 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:22:07.325  INFO 69966 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:22:07.327  INFO 69966 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@75181b50
2017-05-11 16:22:07.512  WARN 69966 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:22:07.515  WARN 69966 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:22:08.009  INFO 69966 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:22:08.049  INFO 69966 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:22:08.196  INFO 69966 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:22:08.772  INFO 69966 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:22:08.772  INFO 69966 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:22:08.772  INFO 69966 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:22:08.800  INFO 69966 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:22:08.800  INFO 69966 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 52645010 nanoseconds
2017-05-11 16:22:08.819  INFO 69966 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:22:08.998  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:22:08.999  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:22:09.000  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:22:09.000  INFO 69966 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.data.neo4j.template.Neo4jTemplate so treating as simple type for SD Commons
2017-05-11 16:22:09.001  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.data.neo4j.template.Neo4jTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.neo4jTemplate
2017-05-11 16:22:09.009  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:22:09.017  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:22:09.020  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:22:09.020  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:22:09.023  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:22:09.023  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:22:09.023  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:22:09.024  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:22:09.035  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:22:09.036  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:22:09.037  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:22:09.037  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:22:09.038  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:22:09.039  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:22:09.039  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:22:09.041  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:22:09.041  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:22:09.042  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:22:09.042  WARN 69966 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:22:09.070  INFO 69966 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:22:10.133  INFO 69966 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@6bedbc4d: startup date [Thu May 11 16:22:02 EEST 2017]; root of context hierarchy
2017-05-11 16:22:10.258  INFO 69966 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:22:10.267  INFO 69966 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:22:10.268  INFO 69966 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:22:10.297  INFO 69966 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:22:10.313  INFO 69966 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:22:10.313  INFO 69966 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:22:10.345  INFO 69966 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:22:10.424  INFO 69966 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:22:10.927  INFO 69966 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 9.534 seconds (JVM running for 11.066)
2017-05-11 16:22:11.406  INFO 69966 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@77a57272 testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@1d77746b, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7181ae3f testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@3e9b1010, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@185d8b6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6e6c3152, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@32709393], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.data.transaction.ChainedTransactionManager@130cfc47]; rollback [true]
2017-05-11 16:22:11.543  INFO 69966 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test context [DefaultTestContext@77a57272 testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@1d77746b, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = java.lang.NullPointerException, mergedContextConfiguration = [WebMergedContextConfiguration@7181ae3f testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@3e9b1010, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@185d8b6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6e6c3152, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@32709393], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2017-05-11 16:22:11.553  INFO 69966 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@6bedbc4d: startup date [Thu May 11 16:22:02 EEST 2017]; root of context hierarchy
2017-05-11 16:22:11.557  INFO 69966 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@91237c1 
2017-05-11 16:22:11.562  INFO 69966 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:23:02.225  INFO 69989 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69989 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:23:02.227  INFO 69989 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:23:02.353  INFO 69989 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2b48a640: startup date [Thu May 11 16:23:02 EEST 2017]; root of context hierarchy
2017-05-11 16:23:03.563  INFO 69989 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:23:03.593  INFO 69989 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:23:03.596  INFO 69989 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:23:03.827  INFO 69989 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:23:03.843  INFO 69989 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:23:05.568  INFO 69989 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:23:05.575  INFO 69989 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:23:05.664  INFO 69989 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.027s)
2017-05-11 16:23:05.710  INFO 69989 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 16:23:05.728  INFO 69989 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:23:05.902  INFO 69989 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:23:05.925  INFO 69989 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:23:06.023  INFO 69989 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:23:06.026  INFO 69989 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:23:06.027  INFO 69989 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:23:06.074  INFO 69989 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:23:06.308  INFO 69989 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:23:06.630  INFO 69989 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:23:06.632  INFO 69989 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@31dfc6f5
2017-05-11 16:23:06.820  WARN 69989 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:23:06.823  WARN 69989 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:23:07.247  INFO 69989 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:23:07.278  INFO 69989 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:23:07.399  INFO 69989 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:23:07.929  INFO 69989 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:23:07.929  INFO 69989 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:23:07.930  INFO 69989 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:23:07.940  INFO 69989 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:23:07.941  INFO 69989 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 48530400 nanoseconds
2017-05-11 16:23:07.962  INFO 69989 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:23:08.203  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:23:08.203  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:23:08.204  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:23:08.204  INFO 69989 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.neo4j.ogm.session.Neo4jSession so treating as simple type for SD Commons
2017-05-11 16:23:08.205  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Neo4jSession org.test.neo4j.transaction.test.ChainedTransactionFailureTest.neo4jSession
2017-05-11 16:23:08.212  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:23:08.216  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:23:08.218  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:23:08.220  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:23:08.221  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:23:08.222  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:23:08.223  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:23:08.224  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:23:08.240  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:23:08.241  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:23:08.241  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:23:08.241  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:23:08.242  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:23:08.242  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:23:08.242  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:23:08.243  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:23:08.244  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:23:08.244  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:23:08.245  WARN 69989 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:23:08.272  INFO 69989 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:23:09.509  INFO 69989 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@2b48a640: startup date [Thu May 11 16:23:02 EEST 2017]; root of context hierarchy
2017-05-11 16:23:09.660  INFO 69989 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:23:09.665  INFO 69989 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:23:09.665  INFO 69989 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:23:09.695  INFO 69989 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:23:09.711  INFO 69989 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:23:09.711  INFO 69989 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:23:09.764  INFO 69989 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:23:09.830  INFO 69989 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:23:10.533  INFO 69989 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 9.256 seconds (JVM running for 10.646)
2017-05-11 16:23:10.606 ERROR 69989 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@69379752] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@597a7afa]

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.test.neo4j.transaction.test.ChainedTransactionFailureTest': Unsatisfied dependency expressed through field 'neo4jSession'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.neo4j.ogm.session.Neo4jSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:386) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.neo4j.ogm.session.Neo4jSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1486) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 33 common frames omitted

2017-05-11 16:23:10.631  INFO 69989 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2b48a640: startup date [Thu May 11 16:23:02 EEST 2017]; root of context hierarchy
2017-05-11 16:23:10.639  INFO 69989 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@3857c356 
2017-05-11 16:23:10.641  INFO 69989 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:24:50.029  INFO 69996 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69996 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:24:50.031  INFO 69996 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:24:50.271  INFO 69996 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@f80945f: startup date [Thu May 11 16:24:50 EEST 2017]; root of context hierarchy
2017-05-11 16:24:51.812  INFO 69996 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:24:51.846  INFO 69996 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:24:51.850  INFO 69996 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:24:52.066  INFO 69996 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:24:52.087  INFO 69996 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:24:53.829  INFO 69996 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:24:53.836  INFO 69996 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:24:53.924  INFO 69996 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.033s)
2017-05-11 16:24:53.981  INFO 69996 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 16:24:53.992  INFO 69996 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:24:54.240  INFO 69996 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:24:54.270  INFO 69996 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:24:54.384  INFO 69996 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:24:54.386  INFO 69996 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:24:54.391  INFO 69996 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:24:54.465  INFO 69996 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:24:54.826  INFO 69996 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:24:55.177  INFO 69996 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:24:55.181  INFO 69996 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@b0f2d91
2017-05-11 16:24:55.570  WARN 69996 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:24:55.574  WARN 69996 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:24:55.890  INFO 69996 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:24:55.926  INFO 69996 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:24:56.075  INFO 69996 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:24:56.730  INFO 69996 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:24:56.730  INFO 69996 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:24:56.731  INFO 69996 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:24:56.747  INFO 69996 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:24:56.747  INFO 69996 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 54307085 nanoseconds
2017-05-11 16:24:56.775  INFO 69996 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:24:56.990  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:24:56.991  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:24:56.992  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:24:56.992  INFO 69996 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.neo4j.ogm.session.Neo4jSession so treating as simple type for SD Commons
2017-05-11 16:24:56.994  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Neo4jSession org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 16:24:57.001  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:24:57.008  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:24:57.009  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:24:57.009  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:24:57.009  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:24:57.009  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:24:57.010  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:24:57.010  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:24:57.020  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:24:57.021  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:24:57.021  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:24:57.022  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:24:57.022  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:24:57.022  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:24:57.023  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:24:57.024  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:24:57.025  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:24:57.027  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:24:57.028  WARN 69996 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:24:57.060  INFO 69996 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:24:58.221  INFO 69996 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@f80945f: startup date [Thu May 11 16:24:50 EEST 2017]; root of context hierarchy
2017-05-11 16:24:58.368  INFO 69996 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:24:58.373  INFO 69996 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:24:58.376  INFO 69996 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:24:58.423  INFO 69996 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:24:58.476  INFO 69996 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:24:58.476  INFO 69996 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:24:58.533  INFO 69996 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:24:58.584  INFO 69996 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:24:59.249  INFO 69996 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 10.56 seconds (JVM running for 12.257)
2017-05-11 16:24:59.301 ERROR 69996 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@31190526] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@740ee00f]

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.test.neo4j.transaction.test.ChainedTransactionFailureTest': Unsatisfied dependency expressed through field 'session'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.neo4j.ogm.session.Neo4jSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:386) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.neo4j.ogm.session.Neo4jSession' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1486) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 28 common frames omitted

2017-05-11 16:24:59.378  INFO 69996 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@f80945f: startup date [Thu May 11 16:24:50 EEST 2017]; root of context hierarchy
2017-05-11 16:24:59.382  INFO 69996 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@57f0fe13 
2017-05-11 16:24:59.384  INFO 69996 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:27:40.924  INFO 69999 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 69999 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:27:40.926  INFO 69999 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:27:41.135  INFO 69999 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5d8bafa9: startup date [Thu May 11 16:27:41 EEST 2017]; root of context hierarchy
2017-05-11 16:27:42.834  INFO 69999 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:27:42.872  INFO 69999 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:27:42.875  INFO 69999 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:27:43.167  INFO 69999 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:27:43.194  INFO 69999 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:27:44.923  INFO 69999 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:27:44.930  INFO 69999 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:27:45.033  INFO 69999 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.034s)
2017-05-11 16:27:45.084  INFO 69999 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 16:27:45.115  INFO 69999 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:27:45.329  INFO 69999 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:27:45.355  INFO 69999 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:27:45.509  INFO 69999 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:27:45.518  INFO 69999 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:27:45.521  INFO 69999 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:27:45.583  INFO 69999 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:27:46.029  INFO 69999 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:27:46.419  INFO 69999 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:27:46.424  INFO 69999 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2b877a54
2017-05-11 16:27:46.964  WARN 69999 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:27:46.976  WARN 69999 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:27:47.355  INFO 69999 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:27:47.418  INFO 69999 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:27:47.657  INFO 69999 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:27:48.327  INFO 69999 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:27:48.327  INFO 69999 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:27:48.328  INFO 69999 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:27:48.341  INFO 69999 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:27:48.342  INFO 69999 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 53624895 nanoseconds
2017-05-11 16:27:48.369  INFO 69999 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:27:48.655  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:27:48.656  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:27:48.656  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:27:48.658  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 16:27:48.662  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:27:48.668  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:27:48.668  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:27:48.669  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:27:48.669  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:27:48.669  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:27:48.669  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:27:48.670  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:27:48.682  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:27:48.683  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:27:48.683  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:27:48.683  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:27:48.683  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:27:48.684  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:27:48.684  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:27:48.685  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:27:48.685  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:27:48.685  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:27:48.686  WARN 69999 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:27:48.708  INFO 69999 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:27:49.887  INFO 69999 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@5d8bafa9: startup date [Thu May 11 16:27:41 EEST 2017]; root of context hierarchy
2017-05-11 16:27:50.078  INFO 69999 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:27:50.083  INFO 69999 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:27:50.084  INFO 69999 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:27:50.155  INFO 69999 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:27:50.187  INFO 69999 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:27:50.187  INFO 69999 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:27:50.220  INFO 69999 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:27:50.270  INFO 69999 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:27:50.947  INFO 69999 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 11.095 seconds (JVM running for 12.891)
2017-05-11 16:27:51.547  INFO 69999 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6913c1fb testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@1382a7d8, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66d18979 testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@1534f01b, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4386f16, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd03f44, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@6e4784bc], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.data.transaction.ChainedTransactionManager@2047adea]; rollback [true]
2017-05-11 16:27:51.660  INFO 69999 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test context [DefaultTestContext@6913c1fb testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@1382a7d8, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = java.lang.RuntimeException: Supplied Parameters cannot be null., mergedContextConfiguration = [WebMergedContextConfiguration@66d18979 testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@1534f01b, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4386f16, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd03f44, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@6e4784bc], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2017-05-11 16:27:51.674  INFO 69999 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@5d8bafa9: startup date [Thu May 11 16:27:41 EEST 2017]; root of context hierarchy
2017-05-11 16:27:51.678  INFO 69999 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@659583a5 
2017-05-11 16:27:51.683  INFO 69999 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:28:10.491  INFO 70001 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70001 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:28:10.493  INFO 70001 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:28:10.681  INFO 70001 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5d8bafa9: startup date [Thu May 11 16:28:10 EEST 2017]; root of context hierarchy
2017-05-11 16:28:12.166  INFO 70001 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:28:12.198  INFO 70001 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:28:12.202  INFO 70001 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:28:12.524  INFO 70001 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:28:12.554  INFO 70001 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:28:14.185  INFO 70001 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:28:14.193  INFO 70001 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:28:14.284  INFO 70001 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.033s)
2017-05-11 16:28:14.324  INFO 70001 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 16:28:14.337  INFO 70001 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:28:14.553  INFO 70001 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:28:14.606  INFO 70001 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:28:14.703  INFO 70001 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:28:14.706  INFO 70001 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:28:14.708  INFO 70001 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:28:14.771  INFO 70001 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:28:15.070  INFO 70001 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:28:15.373  INFO 70001 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:28:15.376  INFO 70001 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5460edd3
2017-05-11 16:28:15.784  WARN 70001 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:28:15.788  WARN 70001 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:28:16.071  INFO 70001 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:28:16.138  INFO 70001 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:28:16.276  INFO 70001 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:28:16.945  INFO 70001 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:28:16.946  INFO 70001 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:28:16.946  INFO 70001 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:28:16.961  INFO 70001 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:28:16.961  INFO 70001 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 53777952 nanoseconds
2017-05-11 16:28:16.985  INFO 70001 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:28:17.240  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:28:17.240  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:28:17.241  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:28:17.242  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 16:28:17.246  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:28:17.249  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:28:17.250  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:28:17.251  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:28:17.251  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:28:17.251  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:28:17.251  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:28:17.252  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:28:17.259  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:28:17.260  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:28:17.260  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:28:17.261  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:28:17.261  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:28:17.262  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:28:17.262  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:28:17.263  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:28:17.264  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:28:17.264  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:28:17.265  WARN 70001 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:28:17.297  INFO 70001 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:28:18.761  INFO 70001 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@5d8bafa9: startup date [Thu May 11 16:28:10 EEST 2017]; root of context hierarchy
2017-05-11 16:28:18.935  INFO 70001 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:28:18.939  INFO 70001 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:28:18.940  INFO 70001 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:28:18.974  INFO 70001 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:28:18.990  INFO 70001 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:28:18.991  INFO 70001 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:28:19.022  INFO 70001 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:28:19.074  INFO 70001 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:28:19.940  INFO 70001 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 10.696 seconds (JVM running for 12.352)
2017-05-11 16:28:20.503  INFO 70001 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@6913c1fb testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@38f63756, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@66d18979 testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@1534f01b, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4386f16, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd03f44, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@6e4784bc], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.data.transaction.ChainedTransactionManager@5aac6f9f]; rollback [true]
2017-05-11 16:28:20.687  INFO 70001 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:28:20.708  INFO 70001 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 16:28:20.806  INFO 70001 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 16:28:20.843  WARN 70001 --- [main] o.n.o.d.b.transaction.BoltTransaction    : Transaction is already closed
2017-05-11 16:28:20.846  INFO 70001 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test context [DefaultTestContext@6913c1fb testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@38f63756, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = org.neo4j.driver.v1.exceptions.ClientException: Cannot perform schema updates in a transaction that has performed data updates., mergedContextConfiguration = [WebMergedContextConfiguration@66d18979 testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@1534f01b, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4386f16, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd03f44, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@6e4784bc], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2017-05-11 16:28:20.869  INFO 70001 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@5d8bafa9: startup date [Thu May 11 16:28:10 EEST 2017]; root of context hierarchy
2017-05-11 16:28:20.875  INFO 70001 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@68d97b7a 
2017-05-11 16:28:20.882  INFO 70001 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:29:02.429  INFO 70005 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70005 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:29:02.431  INFO 70005 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:29:02.626  INFO 70005 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3fb1549b: startup date [Thu May 11 16:29:02 EEST 2017]; root of context hierarchy
2017-05-11 16:29:04.479  INFO 70005 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:29:04.505  INFO 70005 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:29:04.507  INFO 70005 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:29:04.709  INFO 70005 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:29:04.747  INFO 70005 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:29:06.518  INFO 70005 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:29:06.528  INFO 70005 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:29:06.635  INFO 70005 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.039s)
2017-05-11 16:29:06.693  INFO 70005 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 16:29:06.716  INFO 70005 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:29:06.892  INFO 70005 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:29:06.917  INFO 70005 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:29:07.024  INFO 70005 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:29:07.027  INFO 70005 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:29:07.030  INFO 70005 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:29:07.085  INFO 70005 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:29:07.354  INFO 70005 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:29:07.688  INFO 70005 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:29:07.691  INFO 70005 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7fb66650
2017-05-11 16:29:08.002  WARN 70005 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:29:08.008  WARN 70005 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:29:08.434  INFO 70005 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:29:08.475  INFO 70005 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:29:08.645  INFO 70005 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:29:09.245  INFO 70005 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:29:09.245  INFO 70005 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:29:09.246  INFO 70005 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:29:09.261  INFO 70005 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:29:09.261  INFO 70005 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 72429140 nanoseconds
2017-05-11 16:29:09.277  INFO 70005 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:29:09.551  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:29:09.552  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:29:09.552  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:29:09.553  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 16:29:09.559  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:29:09.562  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:29:09.562  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:29:09.562  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:29:09.562  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:29:09.562  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:29:09.563  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:29:09.563  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:29:09.572  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:29:09.573  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:29:09.573  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:29:09.574  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:29:09.574  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:29:09.574  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:29:09.575  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:29:09.576  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:29:09.576  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:29:09.576  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:29:09.577  WARN 70005 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:29:09.604  INFO 70005 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:29:10.605  INFO 70005 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3fb1549b: startup date [Thu May 11 16:29:02 EEST 2017]; root of context hierarchy
2017-05-11 16:29:10.745  INFO 70005 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:29:10.752  INFO 70005 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:29:10.753  INFO 70005 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:29:10.780  INFO 70005 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:29:10.795  INFO 70005 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:29:10.795  INFO 70005 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:29:10.835  INFO 70005 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:29:10.903  INFO 70005 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:29:11.290  INFO 70005 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 9.976 seconds (JVM running for 11.642)
2017-05-11 16:29:11.552  INFO 70005 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:29:12.004  INFO 70005 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 16:29:12.074  INFO 70005 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 16:29:12.498  INFO 70005 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3fb1549b: startup date [Thu May 11 16:29:02 EEST 2017]; root of context hierarchy
2017-05-11 16:29:12.505  INFO 70005 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@45e5360c 
2017-05-11 16:29:12.509  INFO 70005 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:29:41.928  INFO 70007 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70007 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:29:41.929  INFO 70007 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:29:42.113  INFO 70007 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@584f54e6: startup date [Thu May 11 16:29:42 EEST 2017]; root of context hierarchy
2017-05-11 16:29:43.807  INFO 70007 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:29:43.835  INFO 70007 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:29:43.839  INFO 70007 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:29:44.057  INFO 70007 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:29:44.105  INFO 70007 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:29:45.760  INFO 70007 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:29:45.766  INFO 70007 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:29:45.858  INFO 70007 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.036s)
2017-05-11 16:29:45.893  INFO 70007 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 16:29:45.906  INFO 70007 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:29:46.127  INFO 70007 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:29:46.149  INFO 70007 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:29:46.262  INFO 70007 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:29:46.265  INFO 70007 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:29:46.269  INFO 70007 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:29:46.332  INFO 70007 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:29:46.680  INFO 70007 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:29:47.036  INFO 70007 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:29:47.040  INFO 70007 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@1f884bd6
2017-05-11 16:29:47.489  WARN 70007 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:29:47.493  WARN 70007 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:29:47.846  INFO 70007 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:29:47.891  INFO 70007 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:29:48.048  INFO 70007 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:29:48.796  INFO 70007 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:29:48.796  INFO 70007 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:29:48.796  INFO 70007 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:29:48.811  INFO 70007 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:29:48.812  INFO 70007 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 49144523 nanoseconds
2017-05-11 16:29:48.835  INFO 70007 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:29:49.112  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:29:49.112  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:29:49.113  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:29:49.114  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 16:29:49.122  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:29:49.125  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:29:49.126  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:29:49.126  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:29:49.127  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:29:49.127  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:29:49.127  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:29:49.128  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:29:49.135  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:29:49.135  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:29:49.136  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:29:49.136  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:29:49.139  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:29:49.140  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:29:49.141  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:29:49.142  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:29:49.143  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:29:49.145  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:29:49.152  WARN 70007 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:29:49.203  INFO 70007 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:29:50.414  INFO 70007 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@584f54e6: startup date [Thu May 11 16:29:42 EEST 2017]; root of context hierarchy
2017-05-11 16:29:50.556  INFO 70007 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:29:50.559  INFO 70007 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:29:50.560  INFO 70007 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:29:50.613  INFO 70007 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:29:50.638  INFO 70007 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:29:50.639  INFO 70007 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:29:50.706  INFO 70007 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:29:50.756  INFO 70007 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:29:51.388  INFO 70007 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 10.606 seconds (JVM running for 12.15)
2017-05-11 16:29:51.946  INFO 70007 --- [main] o.s.t.c.transaction.TransactionContext   : Began transaction (1) for test context [DefaultTestContext@305b7c14 testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@69a294d8, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6913c1fb testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@4ddced80, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2ea227af, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@17046283, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@5a63f509], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.data.transaction.ChainedTransactionManager@74f649a7]; rollback [true]
2017-05-11 16:29:54.091  INFO 70007 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 16:29:54.240  INFO 70007 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-876171623, type=node, props={name=test_name_0, uniqueId=testUniqueId}}]}
2017-05-11 16:29:54.241  INFO 70007 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1603579037, type=node, props={name=test_name_2, uniqueId=testUniqueId}}]}
2017-05-11 16:29:54.242  INFO 70007 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-952792476, type=node, props={name=test_name_1, uniqueId=testUniqueId}}]}
2017-05-11 16:29:55.439  INFO 70007 --- [main] o.s.t.c.transaction.TransactionContext   : Rolled back transaction for test context [DefaultTestContext@305b7c14 testClass = ChainedTransactionFailureTest, testInstance = org.test.neo4j.transaction.test.ChainedTransactionFailureTest@69a294d8, testMethod = testChainedTransactionDoesNotBreak@ChainedTransactionFailureTest, testException = java.lang.AssertionError, mergedContextConfiguration = [WebMergedContextConfiguration@6913c1fb testClass = ChainedTransactionFailureTest, locations = '{}', classes = '{class org.test.neo4j.transaction.TransactionTestApplication, class org.test.neo4j.transaction.TransactionTestApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.SpringBootTestContextCustomizer@4ddced80, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2ea227af, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@17046283, org.springframework.test.context.web.socket.MockServerContainerContextCustomizer@5a63f509], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2017-05-11 16:29:55.460  INFO 70007 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@584f54e6: startup date [Thu May 11 16:29:42 EEST 2017]; root of context hierarchy
2017-05-11 16:29:55.463  INFO 70007 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@678e865b 
2017-05-11 16:29:55.474  INFO 70007 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:29:57.139  WARN 70007 --- [Thread-5] o.n.o.d.b.transaction.BoltTransaction    : Transaction is already closed
2017-05-11 16:29:58.002  WARN 70007 --- [Thread-6] o.n.o.d.b.transaction.BoltTransaction    : Transaction is already closed
2017-05-11 16:29:58.009 ERROR 70007 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Unable to process request: AsynchronousCloseException buffer: 
; nested exception is org.neo4j.ogm.exception.TransactionException: Unable to process request: AsynchronousCloseException buffer: 

	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$c024eb8e.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:54) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Unable to process request: AsynchronousCloseException buffer: 

	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:31:47.231  INFO 70011 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70011 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:31:47.235  INFO 70011 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:31:47.402  INFO 70011 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@ebaa6cb: startup date [Thu May 11 16:31:47 EEST 2017]; root of context hierarchy
2017-05-11 16:31:49.229  INFO 70011 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:31:49.263  INFO 70011 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:31:49.268  INFO 70011 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:31:49.665  INFO 70011 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:31:49.702  INFO 70011 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:31:52.172  INFO 70011 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:31:52.183  INFO 70011 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:31:52.385  INFO 70011 --- [main] o.f.core.internal.command.DbValidate     : Validated 1 migration (execution time 00:00.057s)
2017-05-11 16:31:52.485  INFO 70011 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 16:31:52.509  INFO 70011 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:31:52.775  INFO 70011 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:31:52.807  INFO 70011 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:31:52.938  INFO 70011 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:31:52.942  INFO 70011 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:31:52.944  INFO 70011 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:31:53.038  INFO 70011 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:31:53.410  INFO 70011 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:31:53.868  INFO 70011 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:31:53.876  INFO 70011 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6de004f1
2017-05-11 16:31:54.554  WARN 70011 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:31:54.565  WARN 70011 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:31:55.068  INFO 70011 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:31:55.123  INFO 70011 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:31:55.444  INFO 70011 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:31:56.163  INFO 70011 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:31:56.163  INFO 70011 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:31:56.164  INFO 70011 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:31:56.182  INFO 70011 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:31:56.182  INFO 70011 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 58525140 nanoseconds
2017-05-11 16:31:56.196  INFO 70011 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:31:56.397  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:31:56.398  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:31:56.398  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:31:56.406  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 16:31:56.421  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:31:56.429  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:31:56.430  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:31:56.430  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:31:56.431  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:31:56.431  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:31:56.431  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:31:56.432  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:31:56.447  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:31:56.448  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:31:56.448  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:31:56.449  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:31:56.449  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:31:56.449  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:31:56.450  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:31:56.450  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:31:56.451  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:31:56.451  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:31:56.457  WARN 70011 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:31:56.490  INFO 70011 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:31:57.699  INFO 70011 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@ebaa6cb: startup date [Thu May 11 16:31:47 EEST 2017]; root of context hierarchy
2017-05-11 16:31:57.843  INFO 70011 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:31:57.848  INFO 70011 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:31:57.849  INFO 70011 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:31:57.918  INFO 70011 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:31:58.000  INFO 70011 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:31:58.000  INFO 70011 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:31:58.034  INFO 70011 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:31:58.083  INFO 70011 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:31:58.717  INFO 70011 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 12.687 seconds (JVM running for 14.44)
2017-05-11 16:31:59.008  INFO 70011 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:31:59.536  INFO 70011 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 16:31:59.611  INFO 70011 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 16:31:59.702  INFO 70011 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 16:31:59.764  INFO 70011 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-948440327, type=node, props={name=test_name_2, uniqueId=testUniqueId}}]}
2017-05-11 16:31:59.764  INFO 70011 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1923351854, type=node, props={name=test_name_0, uniqueId=testUniqueId}}]}
2017-05-11 16:31:59.776  INFO 70011 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1564550900, type=node, props={name=test_name_1, uniqueId=testUniqueId}}]}
2017-05-11 16:32:23.024  WARN 70011 --- [Thread-6] o.t.n.t.service.TestNodeService          : A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 3 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$ba16f3f5.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$8e1705da.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:54) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 16:32:23.154 ERROR 70011 --- [Thread-6] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$8e1705da.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:54) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:32:25.984  WARN 70011 --- [Thread-7] o.t.n.t.service.TestNodeService          : A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 3 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$ba16f3f5.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$8e1705da.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:54) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 16:32:25.995 ERROR 70011 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$8e1705da.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:54) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:32:56.063  INFO 70011 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@ebaa6cb: startup date [Thu May 11 16:31:47 EEST 2017]; root of context hierarchy
2017-05-11 16:32:56.067  INFO 70011 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@67abf0d0 
2017-05-11 16:32:56.073  INFO 70011 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:36:54.938  INFO 70014 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70014 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:36:54.949  INFO 70014 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:36:55.130  INFO 70014 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2b48a640: startup date [Thu May 11 16:36:55 EEST 2017]; root of context hierarchy
2017-05-11 16:36:56.669  INFO 70014 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:36:56.692  INFO 70014 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:36:56.695  INFO 70014 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:36:56.949  INFO 70014 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:36:56.982  INFO 70014 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:36:58.444  INFO 70014 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:36:58.450  INFO 70014 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:36:58.539  INFO 70014 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.031s)
2017-05-11 16:36:58.591  INFO 70014 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.0
2017-05-11 16:36:58.592  INFO 70014 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version 1.0.1 - Schema
2017-05-11 16:36:58.754  INFO 70014 --- [main] o.f.core.internal.command.DbMigrate      : Successfully applied 1 migration to schema "public" (execution time 00:00.180s).
2017-05-11 16:36:58.942  INFO 70014 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:36:58.971  INFO 70014 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:36:59.073  INFO 70014 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:36:59.075  INFO 70014 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:36:59.077  INFO 70014 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:36:59.152  INFO 70014 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:36:59.363  INFO 70014 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:36:59.648  INFO 70014 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:36:59.650  INFO 70014 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@33425811
2017-05-11 16:36:59.823  WARN 70014 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:36:59.826  WARN 70014 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:37:00.198  INFO 70014 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:37:00.227  INFO 70014 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:37:00.328  INFO 70014 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:37:00.834  INFO 70014 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:37:00.835  INFO 70014 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:37:00.835  INFO 70014 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:37:00.855  INFO 70014 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:37:00.855  INFO 70014 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 49664625 nanoseconds
2017-05-11 16:37:00.872  INFO 70014 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:37:01.035  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:37:01.035  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:37:01.035  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:37:01.035  INFO 70014 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 16:37:01.036  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 16:37:01.037  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 16:37:01.040  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:37:01.044  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:37:01.045  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:37:01.045  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:37:01.045  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:37:01.045  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:37:01.045  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:37:01.046  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:37:01.053  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:37:01.055  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:37:01.056  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:37:01.056  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:37:01.057  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:37:01.057  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:37:01.058  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:37:01.059  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:37:01.064  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:37:01.066  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:37:01.071  WARN 70014 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:37:01.113  INFO 70014 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:37:02.127  INFO 70014 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@2b48a640: startup date [Thu May 11 16:36:55 EEST 2017]; root of context hierarchy
2017-05-11 16:37:02.256  INFO 70014 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:37:02.261  INFO 70014 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:37:02.262  INFO 70014 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:37:02.290  INFO 70014 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:37:02.307  INFO 70014 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:37:02.307  INFO 70014 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:37:02.333  INFO 70014 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:37:02.392  INFO 70014 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:37:02.843  INFO 70014 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 8.867 seconds (JVM running for 10.362)
2017-05-11 16:37:03.001  INFO 70014 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:37:03.467  INFO 70014 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 16:37:03.537  INFO 70014 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 16:37:03.617  INFO 70014 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 16:37:03.662  INFO 70014 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-2045829896, type=node, props={name=test_name_2, uniqueId=testUniqueId}}]}
2017-05-11 16:37:03.664  INFO 70014 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-208851917, type=node, props={name=test_name_0, uniqueId=testUniqueId}}]}
2017-05-11 16:37:03.673  INFO 70014 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-382330771, type=node, props={name=test_name_1, uniqueId=testUniqueId}}]}
2017-05-11 16:37:03.827  WARN 70014 --- [Thread-6] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 2 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$a0d7c736.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$74d7d91b.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:55) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 16:37:03.844 ERROR 70014 --- [Thread-6] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$74d7d91b.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:55) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:37:03.848  WARN 70014 --- [Thread-5] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 2 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$a0d7c736.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$74d7d91b.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:55) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 16:37:03.858 ERROR 70014 --- [Thread-5] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$74d7d91b.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:55) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:37:07.099  INFO 70014 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2b48a640: startup date [Thu May 11 16:36:55 EEST 2017]; root of context hierarchy
2017-05-11 16:37:07.108  INFO 70014 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@52817d8 
2017-05-11 16:37:07.112  INFO 70014 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:37:46.055  INFO 70016 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70016 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:37:46.058  INFO 70016 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:37:46.252  INFO 70016 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2b48a640: startup date [Thu May 11 16:37:46 EEST 2017]; root of context hierarchy
2017-05-11 16:37:47.404  INFO 70016 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:37:47.430  INFO 70016 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:37:47.433  INFO 70016 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:37:47.635  INFO 70016 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:37:47.665  INFO 70016 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:37:49.081  INFO 70016 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:37:49.088  INFO 70016 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:37:49.175  INFO 70016 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.033s)
2017-05-11 16:37:49.228  INFO 70016 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 16:37:49.241  INFO 70016 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:37:49.467  INFO 70016 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:37:49.491  INFO 70016 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:37:49.589  INFO 70016 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:37:49.591  INFO 70016 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:37:49.593  INFO 70016 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:37:49.650  INFO 70016 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:37:49.925  INFO 70016 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:37:50.177  INFO 70016 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:37:50.180  INFO 70016 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@70e94ecb
2017-05-11 16:37:50.366  WARN 70016 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:37:50.369  WARN 70016 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:37:50.709  INFO 70016 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:37:50.736  INFO 70016 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:37:50.854  INFO 70016 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:37:51.321  INFO 70016 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:37:51.321  INFO 70016 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:37:51.321  INFO 70016 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:37:51.332  INFO 70016 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:37:51.332  INFO 70016 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 46055496 nanoseconds
2017-05-11 16:37:51.342  INFO 70016 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:37:51.514  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:37:51.515  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:37:51.515  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:37:51.516  INFO 70016 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 16:37:51.518  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 16:37:51.520  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 16:37:51.523  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:37:51.527  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:37:51.528  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:37:51.528  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:37:51.528  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:37:51.528  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:37:51.528  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:37:51.529  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:37:51.551  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:37:51.555  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:37:51.556  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:37:51.557  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:37:51.560  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:37:51.560  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:37:51.562  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:37:51.564  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:37:51.564  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:37:51.564  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:37:51.572  WARN 70016 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:37:51.605  INFO 70016 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:37:52.596  INFO 70016 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@2b48a640: startup date [Thu May 11 16:37:46 EEST 2017]; root of context hierarchy
2017-05-11 16:37:52.701  INFO 70016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:37:52.705  INFO 70016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:37:52.705  INFO 70016 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:37:52.739  INFO 70016 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:37:52.755  INFO 70016 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:37:52.756  INFO 70016 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:37:52.794  INFO 70016 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:37:52.850  INFO 70016 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:37:53.309  INFO 70016 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 8.131 seconds (JVM running for 9.583)
2017-05-11 16:37:53.491  INFO 70016 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:37:53.921  INFO 70016 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 16:37:53.979  INFO 70016 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 16:37:54.077  INFO 70016 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 16:37:54.093  INFO 70016 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1057820786, type=node, props={name=test_name_1, uniqueId=testUniqueId}}]}
2017-05-11 16:37:54.093  INFO 70016 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-279015004, type=node, props={name=test_name_0, uniqueId=testUniqueId}}]}
2017-05-11 16:37:54.093  INFO 70016 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-684455441, type=node, props={name=test_name_2, uniqueId=testUniqueId}}]}
2017-05-11 16:37:54.299  WARN 70016 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 3 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$1ab0222f.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$eeb03414.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:55) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 16:37:54.327  WARN 70016 --- [Thread-5] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 3 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$1ab0222f.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$eeb03414.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:55) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 16:37:54.327 ERROR 70016 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$eeb03414.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:55) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:37:54.350 ERROR 70016 --- [Thread-5] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$eeb03414.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:55) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:37:57.526  INFO 70016 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2b48a640: startup date [Thu May 11 16:37:46 EEST 2017]; root of context hierarchy
2017-05-11 16:37:57.529  INFO 70016 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@5e1da30e 
2017-05-11 16:37:57.537  INFO 70016 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:39:25.704  INFO 70022 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70022 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:39:25.706  INFO 70022 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:39:25.778  INFO 70022 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@54c5a2ff: startup date [Thu May 11 16:39:25 EEST 2017]; root of context hierarchy
2017-05-11 16:39:26.764  INFO 70022 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:39:26.788  INFO 70022 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:39:26.791  INFO 70022 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:39:26.952  INFO 70022 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:39:26.969  INFO 70022 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:39:28.342  INFO 70022 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:39:28.351  INFO 70022 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:39:28.429  INFO 70022 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.027s)
2017-05-11 16:39:28.464  INFO 70022 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 16:39:28.478  INFO 70022 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:39:28.692  INFO 70022 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:39:28.714  INFO 70022 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:39:28.808  INFO 70022 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:39:28.810  INFO 70022 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:39:28.813  INFO 70022 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:39:28.867  INFO 70022 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:39:29.107  INFO 70022 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:39:29.371  INFO 70022 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:39:29.373  INFO 70022 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5b3bb1f7
2017-05-11 16:39:29.571  WARN 70022 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:39:29.589  WARN 70022 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:39:29.955  INFO 70022 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:39:29.982  INFO 70022 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:39:30.084  INFO 70022 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:39:30.548  INFO 70022 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:39:30.548  INFO 70022 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:39:30.548  INFO 70022 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 22 classes
2017-05-11 16:39:30.564  INFO 70022 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:39:30.565  INFO 70022 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 22 classes loaded in 47105533 nanoseconds
2017-05-11 16:39:30.583  INFO 70022 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:39:30.742  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.wrapperService
2017-05-11 16:39:30.743  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 16:39:30.744  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 16:39:30.744  INFO 70022 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 16:39:30.745  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 16:39:30.746  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 16:39:30.750  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:39:30.755  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:39:30.761  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:39:30.762  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:39:30.763  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:39:30.763  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:39:30.764  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:39:30.764  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:39:30.785  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.index
2017-05-11 16:39:30.785  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.name
2017-05-11 16:39:30.794  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.uniqueId
2017-05-11 16:39:30.796  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.wrapperService
2017-05-11 16:39:30.797  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:39:30.799  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:39:30.800  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:39:30.808  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:39:30.816  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:39:30.816  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:39:30.818  WARN 70022 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:39:30.858  INFO 70022 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:39:31.747  INFO 70022 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@54c5a2ff: startup date [Thu May 11 16:39:25 EEST 2017]; root of context hierarchy
2017-05-11 16:39:31.860  INFO 70022 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String)
2017-05-11 16:39:31.865  INFO 70022 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:39:31.866  INFO 70022 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:39:31.894  INFO 70022 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:39:31.908  INFO 70022 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:39:31.908  INFO 70022 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:39:31.933  INFO 70022 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:39:31.983  INFO 70022 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:39:32.391  INFO 70022 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 7.226 seconds (JVM running for 8.118)
2017-05-11 16:39:32.541  INFO 70022 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:39:32.942  INFO 70022 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 16:39:33.001  INFO 70022 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 16:39:33.101  INFO 70022 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-880929434, type=node, props={name=test_name_0, uniqueId=testUniqueId}}]}
2017-05-11 16:39:33.101  INFO 70022 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-368765700, type=node, props={name=test_name_2, uniqueId=testUniqueId}}]}
2017-05-11 16:39:33.101  INFO 70022 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-843110434, type=node, props={name=test_name_1, uniqueId=testUniqueId}}]}
2017-05-11 16:39:33.250  WARN 70022 --- [Thread-6] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 2 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$d34cd464.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$a74ce649.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:54) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 16:39:33.260 ERROR 70022 --- [Thread-6] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$a74ce649.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:54) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:39:33.261  WARN 70022 --- [Thread-5] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 2 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$d34cd464.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$a74ce649.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:54) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 16:39:33.281 ERROR 70022 --- [Thread-5] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$a74ce649.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest$TestNodeWrapperObject.run(ChainedTransactionFailureTest.java:54) [test-classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:39:36.045  INFO 70022 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 16:39:36.233  INFO 70022 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:39:36.290  INFO 70022 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 16:39:36.338  INFO 70022 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 16:39:36.362  INFO 70022 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.test.neo4j.transaction.TransactionTestApplicationTests], using SpringBootContextLoader
2017-05-11 16:39:36.363  INFO 70022 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.test.neo4j.transaction.TransactionTestApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2017-05-11 16:39:36.389  INFO 70022 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-05-11 16:39:36.394  INFO 70022 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26f75d9c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7717b4a0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@69b37f5c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@28b5662d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@34b2d51a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7e4ac598, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@cf10c92, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@f76872f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2d4e99de, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@580ffea, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@191e654, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3a6556b6]
2017-05-11 16:39:36.404  INFO 70022 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@54c5a2ff: startup date [Thu May 11 16:39:25 EEST 2017]; root of context hierarchy
2017-05-11 16:39:36.407  INFO 70022 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@495a1d6f 
2017-05-11 16:39:36.411  INFO 70022 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:46:48.750  INFO 70040 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70040 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:46:48.751  INFO 70040 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:46:48.814  INFO 70040 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@46cdf8bd: startup date [Thu May 11 16:46:48 EEST 2017]; root of context hierarchy
2017-05-11 16:46:49.720  INFO 70040 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:46:49.752  INFO 70040 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:46:49.758  INFO 70040 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:46:49.938  INFO 70040 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:46:49.952  INFO 70040 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:46:51.160  INFO 70040 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:46:51.168  INFO 70040 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:46:51.249  INFO 70040 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.027s)
2017-05-11 16:46:51.300  INFO 70040 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 16:46:51.314  INFO 70040 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:46:51.483  INFO 70040 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:46:51.516  INFO 70040 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:46:51.586  INFO 70040 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:46:51.589  INFO 70040 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:46:51.590  INFO 70040 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:46:51.634  INFO 70040 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:46:51.793  INFO 70040 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:46:52.007  INFO 70040 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:46:52.010  INFO 70040 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@806996
2017-05-11 16:46:52.155  WARN 70040 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:46:52.161  WARN 70040 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:46:52.468  INFO 70040 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:46:52.499  INFO 70040 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:46:52.598  INFO 70040 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:46:53.046  INFO 70040 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:46:53.046  INFO 70040 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:46:53.046  INFO 70040 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 23 classes
2017-05-11 16:46:53.057  INFO 70040 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:46:53.057  INFO 70040 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 23 classes loaded in 73355345 nanoseconds
2017-05-11 16:46:53.073  INFO 70040 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:46:53.243  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 16:46:53.245  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 16:46:53.245  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 16:46:53.246  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 16:46:53.249  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:46:53.249  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:46:53.250  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:46:53.251  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 16:46:53.251  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 16:46:53.252  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 16:46:53.257  INFO 70040 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 16:46:53.257  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 16:46:53.258  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 16:46:53.259  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 16:46:53.261  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:46:53.264  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:46:53.265  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:46:53.266  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:46:53.266  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:46:53.267  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:46:53.267  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:46:53.268  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:46:53.275  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:46:53.275  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:46:53.276  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:46:53.279  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:46:53.280  WARN 70040 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 16:46:53.307  INFO 70040 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:46:54.120  INFO 70040 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@46cdf8bd: startup date [Thu May 11 16:46:48 EEST 2017]; root of context hierarchy
2017-05-11 16:46:54.253  INFO 70040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String) throws java.lang.InterruptedException
2017-05-11 16:46:54.257  INFO 70040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:46:54.258  INFO 70040 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:46:54.300  INFO 70040 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:46:54.319  INFO 70040 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:46:54.320  INFO 70040 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:46:54.370  INFO 70040 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:46:54.421  INFO 70040 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:46:54.812  INFO 70040 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 6.501 seconds (JVM running for 7.521)
2017-05-11 16:46:54.967  INFO 70040 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:46:55.269  INFO 70040 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 16:46:55.328  INFO 70040 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 16:46:55.431  INFO 70040 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1013574589, type=node, props={name=test_name_2, uniqueId=testUniqueId}}]}
2017-05-11 16:46:55.431  INFO 70040 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-172568252, type=node, props={name=test_name_0, uniqueId=testUniqueId}}]}
2017-05-11 16:46:55.431  INFO 70040 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-26666533, type=node, props={name=test_name_1, uniqueId=testUniqueId}}]}
2017-05-11 16:46:55.558  WARN 70040 --- [Thread-6] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 4 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$7f8da466.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$538db64b.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 16:46:55.579 ERROR 70040 --- [Thread-6] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$538db64b.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:46:55.583  WARN 70040 --- [Thread-5] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 4 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$7f8da466.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$538db64b.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 16:46:55.602 ERROR 70040 --- [Thread-5] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$538db64b.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:46:58.369  INFO 70040 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 16:46:58.583  INFO 70040 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:46:58.647  INFO 70040 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 16:46:58.698  INFO 70040 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 16:46:58.713  INFO 70040 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.test.neo4j.transaction.TransactionTestApplicationTests], using SpringBootContextLoader
2017-05-11 16:46:58.714  INFO 70040 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.test.neo4j.transaction.TransactionTestApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2017-05-11 16:46:58.742  INFO 70040 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-05-11 16:46:58.745  INFO 70040 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@52f43225, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@55d1f065, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@f9a5e3f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4aac81ca, org.springframework.test.context.transaction.TransactionalTestExecutionListener@393ae7a0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@63326a3a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3e04abc5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1008df1e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7ee12d58, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@e72fb04, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1533338c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4315fe1b]
2017-05-11 16:46:58.770  INFO 70040 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@46cdf8bd: startup date [Thu May 11 16:46:48 EEST 2017]; root of context hierarchy
2017-05-11 16:46:58.773  INFO 70040 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@732aba09 
2017-05-11 16:46:58.777  INFO 70040 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:49:04.404  INFO 70055 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70055 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:49:04.405  INFO 70055 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:49:04.496  INFO 70055 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@f0c8a99: startup date [Thu May 11 16:49:04 EEST 2017]; root of context hierarchy
2017-05-11 16:49:05.339  INFO 70055 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:49:05.374  INFO 70055 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:49:05.381  INFO 70055 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:49:05.579  INFO 70055 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:49:05.597  INFO 70055 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:49:06.758  INFO 70055 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:49:06.764  INFO 70055 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:49:06.858  INFO 70055 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.035s)
2017-05-11 16:49:06.912  INFO 70055 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 16:49:06.926  INFO 70055 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:49:07.108  INFO 70055 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:49:07.137  INFO 70055 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:49:07.244  INFO 70055 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:49:07.247  INFO 70055 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:49:07.251  INFO 70055 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:49:07.331  INFO 70055 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:49:07.540  INFO 70055 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:49:07.826  INFO 70055 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:49:07.828  INFO 70055 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@76332405
2017-05-11 16:49:07.995  WARN 70055 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:49:07.998  WARN 70055 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:49:08.303  INFO 70055 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:49:08.338  INFO 70055 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:49:08.440  INFO 70055 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:49:08.849  INFO 70055 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:49:08.850  INFO 70055 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:49:08.851  INFO 70055 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 23 classes
2017-05-11 16:49:08.862  INFO 70055 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:49:08.863  INFO 70055 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 23 classes loaded in 42390977 nanoseconds
2017-05-11 16:49:08.879  INFO 70055 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:49:09.037  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 16:49:09.038  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 16:49:09.039  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 16:49:09.040  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 16:49:09.041  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:49:09.044  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:49:09.047  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:49:09.048  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 16:49:09.050  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 16:49:09.051  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 16:49:09.056  INFO 70055 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 16:49:09.056  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 16:49:09.057  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 16:49:09.058  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 16:49:09.061  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:49:09.065  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:49:09.066  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:49:09.066  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:49:09.066  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:49:09.067  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:49:09.067  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:49:09.067  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:49:09.072  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:49:09.073  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:49:09.073  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:49:09.076  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:49:09.077  WARN 70055 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 16:49:09.115  INFO 70055 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:49:09.858  INFO 70055 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@f0c8a99: startup date [Thu May 11 16:49:04 EEST 2017]; root of context hierarchy
2017-05-11 16:49:09.970  INFO 70055 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String) throws java.lang.InterruptedException
2017-05-11 16:49:09.974  INFO 70055 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:49:09.975  INFO 70055 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:49:10.003  INFO 70055 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:49:10.024  INFO 70055 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:49:10.026  INFO 70055 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:49:10.065  INFO 70055 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:49:10.112  INFO 70055 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:49:10.438  INFO 70055 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 6.443 seconds (JVM running for 7.328)
2017-05-11 16:49:10.608  INFO 70055 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:49:10.915  INFO 70055 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 16:49:10.964  INFO 70055 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 16:49:11.050  INFO 70055 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-2103527404, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 16:49:11.050  INFO 70055 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1368056228, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 16:49:11.050  INFO 70055 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-2087854030, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 16:49:11.181  WARN 70055 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 5 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$f1ff9473.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$c5ffa658.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 16:49:11.193 ERROR 70055 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$c5ffa658.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:49:11.208  WARN 70055 --- [Thread-5] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 5 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$f1ff9473.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$c5ffa658.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 16:49:12.221 ERROR 70055 --- [Thread-5] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$c5ffa658.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:49:13.993  INFO 70055 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 16:49:14.150  INFO 70055 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:49:14.230  INFO 70055 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:49:14.240  INFO 70055 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 16:49:14.305  INFO 70055 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 16:49:14.323  INFO 70055 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:49:14.419  INFO 70055 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.test.neo4j.transaction.TransactionTestApplicationTests], using SpringBootContextLoader
2017-05-11 16:49:14.419  INFO 70055 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.test.neo4j.transaction.TransactionTestApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2017-05-11 16:49:14.440  INFO 70055 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-05-11 16:49:14.444  INFO 70055 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@21f91efa, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4df0d9f8, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@35e75f7a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4f7bb8df, org.springframework.test.context.transaction.TransactionalTestExecutionListener@269c7104, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6de84336, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@627bcd7e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@70543cae, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@350567f1, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1a5b7394, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@26f75d9c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7717b4a0]
2017-05-11 16:49:14.454  INFO 70055 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@f0c8a99: startup date [Thu May 11 16:49:04 EEST 2017]; root of context hierarchy
2017-05-11 16:49:14.457  INFO 70055 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@635a50c2 
2017-05-11 16:49:14.460  INFO 70055 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:50:49.896  INFO 70096 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70096 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 16:50:49.897  INFO 70096 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 16:50:49.954  INFO 70096 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@f0c8a99: startup date [Thu May 11 16:50:49 EEST 2017]; root of context hierarchy
2017-05-11 16:50:50.987  INFO 70096 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:50:51.009  INFO 70096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 16:50:51.013  INFO 70096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 16:50:51.192  INFO 70096 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 16:50:51.235  INFO 70096 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 16:50:52.460  INFO 70096 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 16:50:52.467  INFO 70096 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15004/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 16:50:52.554  INFO 70096 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.036s)
2017-05-11 16:50:52.623  INFO 70096 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 16:50:52.642  INFO 70096 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 16:50:52.854  INFO 70096 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 16:50:52.877  INFO 70096 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 16:50:52.985  INFO 70096 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 16:50:52.988  INFO 70096 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 16:50:52.990  INFO 70096 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 16:50:53.068  INFO 70096 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 16:50:53.293  INFO 70096 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 16:50:53.596  INFO 70096 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 16:50:53.598  INFO 70096 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@30c1da48
2017-05-11 16:50:53.774  WARN 70096 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:50:53.777  WARN 70096 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 16:50:54.094  INFO 70096 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 16:50:54.121  INFO 70096 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 16:50:54.223  INFO 70096 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 16:50:54.770  INFO 70096 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 16:50:54.770  INFO 70096 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 16:50:54.771  INFO 70096 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 23 classes
2017-05-11 16:50:54.785  INFO 70096 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 16:50:54.786  INFO 70096 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 23 classes loaded in 52310261 nanoseconds
2017-05-11 16:50:54.803  INFO 70096 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 16:50:55.029  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 16:50:55.030  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 16:50:55.031  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 16:50:55.031  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 16:50:55.032  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 16:50:55.033  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 16:50:55.034  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 16:50:55.035  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 16:50:55.037  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 16:50:55.038  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 16:50:55.046  INFO 70096 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 16:50:55.050  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 16:50:55.054  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 16:50:55.068  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 16:50:55.088  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 16:50:55.093  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 16:50:55.094  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 16:50:55.095  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 16:50:55.097  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 16:50:55.097  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 16:50:55.099  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 16:50:55.103  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 16:50:55.120  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 16:50:55.120  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 16:50:55.121  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 16:50:55.125  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 16:50:55.126  WARN 70096 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 16:50:55.168  INFO 70096 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 16:50:56.122  INFO 70096 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@f0c8a99: startup date [Thu May 11 16:50:49 EEST 2017]; root of context hierarchy
2017-05-11 16:50:56.250  INFO 70096 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String) throws java.lang.InterruptedException
2017-05-11 16:50:56.255  INFO 70096 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 16:50:56.256  INFO 70096 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 16:50:56.282  INFO 70096 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 16:50:56.296  INFO 70096 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:50:56.297  INFO 70096 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:50:56.322  INFO 70096 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 16:50:56.396  INFO 70096 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 16:50:56.802  INFO 70096 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 7.465 seconds (JVM running for 8.402)
2017-05-11 16:50:56.959  INFO 70096 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:50:57.445  INFO 70096 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 16:50:57.509  INFO 70096 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 16:50:57.604  INFO 70096 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-727490576, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 16:50:57.604  INFO 70096 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-128728441, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 16:50:57.605  INFO 70096 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-704725230, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 16:50:57.768  WARN 70096 --- [Thread-6] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 3 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$999e0bd6.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6d9e1dbb.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 16:50:57.800 ERROR 70096 --- [Thread-6] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6d9e1dbb.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:50:57.803  WARN 70096 --- [Thread-5] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 3 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$999e0bd6.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6d9e1dbb.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 16:50:57.817 ERROR 70096 --- [Thread-5] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6d9e1dbb.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 16:51:00.554  INFO 70096 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 16:51:00.798  INFO 70096 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:51:00.862  INFO 70096 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:51:00.870  INFO 70096 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 16:51:00.914  INFO 70096 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 16:51:00.924  INFO 70096 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 16:51:00.968  INFO 70096 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.test.neo4j.transaction.TransactionTestApplicationTests], using SpringBootContextLoader
2017-05-11 16:51:00.968  INFO 70096 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.test.neo4j.transaction.TransactionTestApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2017-05-11 16:51:01.004  INFO 70096 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-05-11 16:51:01.010  INFO 70096 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@627bcd7e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@70543cae, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@350567f1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1a5b7394, org.springframework.test.context.transaction.TransactionalTestExecutionListener@26f75d9c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7717b4a0, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@69b37f5c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@28b5662d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@34b2d51a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7e4ac598, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@cf10c92, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@f76872f]
2017-05-11 16:51:01.032  INFO 70096 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@f0c8a99: startup date [Thu May 11 16:50:49 EEST 2017]; root of context hierarchy
2017-05-11 16:51:01.037  INFO 70096 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@5230d471 
2017-05-11 16:51:01.040  INFO 70096 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 17:11:09.954  INFO 70429 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70429 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 17:11:09.957  INFO 70429 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 17:11:10.055  INFO 70429 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@f0c8a99: startup date [Thu May 11 17:11:10 EEST 2017]; root of context hierarchy
2017-05-11 17:11:11.045  INFO 70429 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 17:11:11.077  INFO 70429 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 17:11:11.082  INFO 70429 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 17:11:11.278  INFO 70429 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 17:11:11.297  INFO 70429 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 17:11:12.595  INFO 70429 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 17:11:12.609  INFO 70429 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 17:11:12.697  INFO 70429 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.016s)
2017-05-11 17:11:12.722  INFO 70429 --- [main] o.f.c.i.metadatatable.MetaDataTableImpl  : Creating Metadata table: "public"."schema_version"
2017-05-11 17:11:12.882  INFO 70429 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": << Empty Schema >>
2017-05-11 17:11:12.883  INFO 70429 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version 1.0.0 - Schema
2017-05-11 17:11:12.984  INFO 70429 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version 1.0.1 - Schema
2017-05-11 17:11:13.095  INFO 70429 --- [main] o.f.core.internal.command.DbMigrate      : Successfully applied 2 migrations to schema "public" (execution time 00:00.377s).
2017-05-11 17:11:13.317  INFO 70429 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 17:11:13.346  INFO 70429 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 17:11:13.527  INFO 70429 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 17:11:13.529  INFO 70429 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 17:11:13.535  INFO 70429 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 17:11:13.626  INFO 70429 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 17:11:13.866  INFO 70429 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 17:11:14.124  INFO 70429 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 17:11:14.127  INFO 70429 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5b3bb1f7
2017-05-11 17:11:14.308  WARN 70429 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 17:11:14.313  WARN 70429 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 17:11:14.668  INFO 70429 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 17:11:14.703  INFO 70429 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 17:11:14.826  INFO 70429 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 17:11:15.222  INFO 70429 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 17:11:15.222  INFO 70429 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 17:11:15.223  INFO 70429 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 23 classes
2017-05-11 17:11:15.231  INFO 70429 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 17:11:15.231  INFO 70429 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 23 classes loaded in 39910462 nanoseconds
2017-05-11 17:11:15.258  INFO 70429 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 17:11:15.403  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 17:11:15.403  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 17:11:15.404  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 17:11:15.404  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 17:11:15.405  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 17:11:15.405  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 17:11:15.406  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 17:11:15.406  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 17:11:15.407  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 17:11:15.407  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 17:11:15.411  INFO 70429 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 17:11:15.412  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 17:11:15.413  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 17:11:15.413  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 17:11:15.416  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 17:11:15.419  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 17:11:15.419  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 17:11:15.420  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 17:11:15.420  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 17:11:15.420  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 17:11:15.420  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 17:11:15.421  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 17:11:15.425  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 17:11:15.425  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 17:11:15.426  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 17:11:15.431  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 17:11:15.431  WARN 70429 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 17:11:15.455  INFO 70429 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 17:11:16.272  INFO 70429 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@f0c8a99: startup date [Thu May 11 17:11:10 EEST 2017]; root of context hierarchy
2017-05-11 17:11:16.399  INFO 70429 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String) throws java.lang.InterruptedException
2017-05-11 17:11:16.405  INFO 70429 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 17:11:16.405  INFO 70429 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 17:11:16.437  INFO 70429 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 17:11:16.466  INFO 70429 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 17:11:16.467  INFO 70429 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 17:11:16.516  INFO 70429 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 17:11:16.565  INFO 70429 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 17:11:16.938  INFO 70429 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 7.435 seconds (JVM running for 8.931)
2017-05-11 17:11:17.184  INFO 70429 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 17:11:17.780  INFO 70429 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 17:11:18.333  INFO 70429 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 17:11:18.774  INFO 70429 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-2054695866, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 17:11:18.774  INFO 70429 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1398336292, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 17:11:18.805  INFO 70429 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-30642355, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 17:11:19.434  WARN 70429 --- [Thread-6] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 2 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$fac752ec.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$cec764d1.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 17:11:19.470 ERROR 70429 --- [Thread-6] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$cec764d1.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 17:11:19.479  WARN 70429 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 2 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$fac752ec.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$cec764d1.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 17:11:19.502 ERROR 70429 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$cec764d1.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 17:11:21.725  INFO 70429 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 17:11:21.889  INFO 70429 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 17:11:22.035  INFO 70429 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 17:11:22.058  INFO 70429 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 17:11:22.135  INFO 70429 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 17:11:22.158  INFO 70429 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 17:11:22.223  INFO 70429 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.test.neo4j.transaction.TransactionTestApplicationTests], using SpringBootContextLoader
2017-05-11 17:11:22.224  INFO 70429 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.test.neo4j.transaction.TransactionTestApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2017-05-11 17:11:22.239  INFO 70429 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-05-11 17:11:22.244  INFO 70429 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@cf10c92, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@f76872f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2d4e99de, org.springframework.test.context.support.DirtiesContextTestExecutionListener@580ffea, org.springframework.test.context.transaction.TransactionalTestExecutionListener@191e654, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3a6556b6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@63bca84d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6141647f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6f6c8d45, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7f2ca6f8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@79d49790, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@13dc6649]
2017-05-11 17:11:22.267  INFO 70429 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@f0c8a99: startup date [Thu May 11 17:11:10 EEST 2017]; root of context hierarchy
2017-05-11 17:11:22.270  INFO 70429 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@32014e23 
2017-05-11 17:11:22.274  INFO 70429 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 17:29:17.900  INFO 70510 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70510 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 17:29:17.902  INFO 70510 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 17:29:17.966  INFO 70510 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@f0c8a99: startup date [Thu May 11 17:29:17 EEST 2017]; root of context hierarchy
2017-05-11 17:29:18.958  INFO 70510 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 17:29:18.993  INFO 70510 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 17:29:18.997  INFO 70510 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 17:29:19.235  INFO 70510 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 17:29:19.255  INFO 70510 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 17:29:20.524 ERROR 70510 --- [main] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.

org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2586) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:113) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:222) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) [tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.CGLIB$flyway$0(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706$$FastClassBySpringCGLIB$$f6afd78a.invoke(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.flyway(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]

2017-05-11 17:29:20.536  WARN 70510 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
2017-05-11 17:29:20.553  INFO 70510 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 17:29:20.585 ERROR 70510 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:206) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.CGLIB$flyway$0(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706$$FastClassBySpringCGLIB$$f6afd78a.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.flyway(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 46 common frames omitted
Caused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:339) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 59 common frames omitted
Caused by: org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2586) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:113) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:222) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 60 common frames omitted

2017-05-11 17:29:20.599 ERROR 70510 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@475e586c] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@43effd89]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 26 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:206) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.CGLIB$flyway$0(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706$$FastClassBySpringCGLIB$$f6afd78a.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.flyway(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 46 common frames omitted
Caused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:339) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 59 common frames omitted
Caused by: org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2586) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:113) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:222) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 60 common frames omitted

2017-05-11 17:29:20.789  INFO 70510 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70510 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 17:29:20.790  INFO 70510 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 17:29:20.793  INFO 70510 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5af97169: startup date [Thu May 11 17:29:20 EEST 2017]; root of context hierarchy
2017-05-11 17:29:21.051  INFO 70510 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 17:29:21.055  INFO 70510 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 17:29:21.056  INFO 70510 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 17:29:21.100  INFO 70510 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 17:29:21.118  INFO 70510 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 17:29:21.350 ERROR 70510 --- [main] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.

org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2586) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:113) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:222) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) [tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.CGLIB$flyway$0(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706$$FastClassBySpringCGLIB$$f6afd78a.invoke(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.flyway(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]

2017-05-11 17:29:21.354  WARN 70510 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
2017-05-11 17:29:21.359  INFO 70510 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 17:29:21.372 ERROR 70510 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:206) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.CGLIB$flyway$0(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706$$FastClassBySpringCGLIB$$f6afd78a.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.flyway(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 46 common frames omitted
Caused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:339) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 59 common frames omitted
Caused by: org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2586) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:113) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:222) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 60 common frames omitted

2017-05-11 17:29:21.379 ERROR 70510 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@475e586c] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@149c3204]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 26 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:206) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.CGLIB$flyway$0(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706$$FastClassBySpringCGLIB$$f6afd78a.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.flyway(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 46 common frames omitted
Caused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:339) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 59 common frames omitted
Caused by: org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2586) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:113) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:222) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 60 common frames omitted

2017-05-11 17:29:21.389  INFO 70510 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.test.neo4j.transaction.TransactionTestApplicationTests], using SpringBootContextLoader
2017-05-11 17:29:21.392  INFO 70510 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.test.neo4j.transaction.TransactionTestApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2017-05-11 17:29:21.399  INFO 70510 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-05-11 17:29:21.407  INFO 70510 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@28c86134, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4492eede, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@cbc8d0f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@37b57b54, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5c1f6d57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f288c14, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6794ac0b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7be71476, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5cb5bb88, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@17b6d426, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5580d62f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@16872c4d]
2017-05-11 17:29:21.610  INFO 70510 --- [main] o.t.n.t.TransactionTestApplicationTests  : Starting TransactionTestApplicationTests on Konstantinoss-Mac-mini.local with PID 70510 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 17:29:21.611  INFO 70510 --- [main] o.t.n.t.TransactionTestApplicationTests  : The following profiles are active: test
2017-05-11 17:29:21.615  INFO 70510 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@21f459fc: startup date [Thu May 11 17:29:21 EEST 2017]; root of context hierarchy
2017-05-11 17:29:22.248  INFO 70510 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 17:29:22.251  INFO 70510 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 17:29:22.252  INFO 70510 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 17:29:22.366  INFO 70510 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 17:29:22.385  INFO 70510 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 17:29:22.697 ERROR 70510 --- [main] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.

org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2586) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:113) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:222) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) [tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.CGLIB$flyway$0(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706$$FastClassBySpringCGLIB$$f6afd78a.invoke(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.flyway(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]

2017-05-11 17:29:22.701  WARN 70510 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
2017-05-11 17:29:22.707  INFO 70510 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 17:29:22.711 ERROR 70510 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:206) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.CGLIB$flyway$0(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706$$FastClassBySpringCGLIB$$f6afd78a.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.flyway(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 46 common frames omitted
Caused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:339) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 59 common frames omitted
Caused by: org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2586) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:113) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:222) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 60 common frames omitted

2017-05-11 17:29:22.757 ERROR 70510 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@28c86134] to prepare test instance [org.test.neo4j.transaction.TransactionTestApplicationTests@cda6019]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 26 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:206) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.CGLIB$flyway$0(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706$$FastClassBySpringCGLIB$$f6afd78a.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$7a814706.flyway(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 46 common frames omitted
Caused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:339) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 59 common frames omitted
Caused by: org.postgresql.util.PSQLException: FATAL: role "test_transaction" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2586) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:113) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:222) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 60 common frames omitted

2017-05-11 17:33:14.612  INFO 70565 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70565 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 17:33:14.615  INFO 70565 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 17:33:14.694  INFO 70565 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@f0c8a99: startup date [Thu May 11 17:33:14 EEST 2017]; root of context hierarchy
2017-05-11 17:33:15.809  INFO 70565 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 17:33:15.858  INFO 70565 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 17:33:15.864  INFO 70565 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 17:33:16.095  INFO 70565 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 17:33:16.120  INFO 70565 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 17:33:17.277  INFO 70565 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 17:33:17.290  INFO 70565 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 17:33:17.395  INFO 70565 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.033s)
2017-05-11 17:33:17.450  INFO 70565 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 17:33:17.463  INFO 70565 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 17:33:17.616  INFO 70565 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 17:33:17.639  INFO 70565 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 17:33:17.741  INFO 70565 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 17:33:17.772  INFO 70565 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 17:33:17.775  INFO 70565 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 17:33:17.846  INFO 70565 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 17:33:18.049  INFO 70565 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 17:33:18.357  INFO 70565 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 17:33:18.359  INFO 70565 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@257e0827
2017-05-11 17:33:18.517  WARN 70565 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 17:33:18.520  WARN 70565 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 17:33:18.873  INFO 70565 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 17:33:18.906  INFO 70565 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 17:33:19.021  INFO 70565 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 17:33:19.378  INFO 70565 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 17:33:19.379  INFO 70565 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 17:33:19.380  INFO 70565 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 23 classes
2017-05-11 17:33:19.390  INFO 70565 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 17:33:19.391  INFO 70565 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 23 classes loaded in 39102888 nanoseconds
2017-05-11 17:33:19.407  INFO 70565 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 17:33:19.588  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 17:33:19.589  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 17:33:19.589  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 17:33:19.590  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 17:33:19.591  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 17:33:19.593  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 17:33:19.594  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 17:33:19.595  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 17:33:19.597  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 17:33:19.597  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 17:33:19.602  INFO 70565 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 17:33:19.603  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 17:33:19.605  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 17:33:19.605  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 17:33:19.608  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 17:33:19.611  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 17:33:19.612  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 17:33:19.612  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 17:33:19.613  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 17:33:19.613  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 17:33:19.613  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 17:33:19.614  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 17:33:19.618  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 17:33:19.619  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 17:33:19.619  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 17:33:19.623  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.controller.TestNodeController.wrapperService
2017-05-11 17:33:19.624  WARN 70565 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 17:33:19.653  INFO 70565 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 17:33:20.432  INFO 70565 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@f0c8a99: startup date [Thu May 11 17:33:14 EEST 2017]; root of context hierarchy
2017-05-11 17:33:20.556  INFO 70565 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/testNode/create],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(java.lang.String,java.lang.String) throws java.lang.InterruptedException
2017-05-11 17:33:20.561  INFO 70565 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 17:33:20.562  INFO 70565 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 17:33:20.604  INFO 70565 --- [main] o.s.w.s.h.BeanNameUrlHandlerMapping      : Mapped URL path [/api/] onto handler '/api/'
2017-05-11 17:33:20.630  INFO 70565 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 17:33:20.631  INFO 70565 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 17:33:20.670  INFO 70565 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 17:33:20.720  INFO 70565 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 17:33:21.076  INFO 70565 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 6.88 seconds (JVM running for 7.769)
2017-05-11 17:33:21.229  INFO 70565 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 17:33:21.710  INFO 70565 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 17:33:22.175  INFO 70565 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 17:33:22.624  INFO 70565 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-454252706, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 17:33:22.626  INFO 70565 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1538312438, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 17:33:22.626  INFO 70565 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1864145296, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 17:33:23.168  WARN 70565 --- [Thread-6] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 1 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$7f8da466.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$538db64b.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 17:33:23.200  WARN 70565 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 1 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$7f8da466.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$538db64b.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 17:33:23.227 ERROR 70565 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$538db64b.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 17:33:23.239 ERROR 70565 --- [Thread-6] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$538db64b.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:42) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 17:33:25.535  INFO 70565 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 17:33:25.670  INFO 70565 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 17:33:25.796  INFO 70565 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 17:33:25.807  INFO 70565 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 17:33:25.884  INFO 70565 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 17:33:25.897  INFO 70565 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 17:33:25.944  INFO 70565 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.test.neo4j.transaction.TransactionTestApplicationTests], using SpringBootContextLoader
2017-05-11 17:33:25.945  INFO 70565 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.test.neo4j.transaction.TransactionTestApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2017-05-11 17:33:25.969  INFO 70565 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-05-11 17:33:25.973  INFO 70565 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@393ae7a0, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@63326a3a, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3e04abc5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1008df1e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ee12d58, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@e72fb04, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1533338c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4315fe1b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@34e990cc, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2d5ae78e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@21f91efa, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4df0d9f8]
2017-05-11 17:33:25.987  INFO 70565 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@f0c8a99: startup date [Thu May 11 17:33:14 EEST 2017]; root of context hierarchy
2017-05-11 17:33:25.990  INFO 70565 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@48859c01 
2017-05-11 17:33:25.994  INFO 70565 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 17:54:11.215  INFO 70638 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70638 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 17:54:11.218  INFO 70638 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 17:54:11.501  INFO 70638 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4d5b6aac: startup date [Thu May 11 17:54:11 EEST 2017]; root of context hierarchy
2017-05-11 17:54:13.368  INFO 70638 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 17:54:13.392  INFO 70638 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 17:54:13.395  INFO 70638 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 17:54:13.611  INFO 70638 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 17:54:13.646  INFO 70638 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 17:54:15.134 ERROR 70638 --- [main] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.

org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) [tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$f0f8009a.CGLIB$flyway$0(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$f0f8009a$$FastClassBySpringCGLIB$$37d563a2.invoke(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$f0f8009a.flyway(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_66]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_66]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_66]
	at org.postgresql.core.PGStream.<init>(PGStream.java:61) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	... 78 common frames omitted

2017-05-11 17:54:15.138  WARN 70638 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
2017-05-11 17:54:15.149  INFO 70638 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 17:54:15.156 ERROR 70638 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 48 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:206) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$f0f8009a.CGLIB$flyway$0(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$f0f8009a$$FastClassBySpringCGLIB$$37d563a2.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$f0f8009a.flyway(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 49 common frames omitted
Caused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:339) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	... 60 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 62 common frames omitted
Caused by: org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 63 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_66]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_66]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_66]
	at org.postgresql.core.PGStream.<init>(PGStream.java:61) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	... 78 common frames omitted

2017-05-11 17:54:15.162 ERROR 70638 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@1ad282e0] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@512d4583]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 29 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 48 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:206) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$f0f8009a.CGLIB$flyway$0(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$f0f8009a$$FastClassBySpringCGLIB$$37d563a2.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$f0f8009a.flyway(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 49 common frames omitted
Caused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:339) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	... 60 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 62 common frames omitted
Caused by: org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 63 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_66]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_66]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_66]
	at org.postgresql.core.PGStream.<init>(PGStream.java:61) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	... 78 common frames omitted

2017-05-11 18:16:20.708  INFO 70824 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70824 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:16:20.711  INFO 70824 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:16:20.817  INFO 70824 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6e9175d8: startup date [Thu May 11 18:16:20 EEST 2017]; root of context hierarchy
2017-05-11 18:16:22.166  INFO 70824 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:16:22.207  INFO 70824 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:16:22.212  INFO 70824 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:16:22.445  INFO 70824 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:16:22.484  INFO 70824 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:16:24.179 ERROR 70824 --- [main] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.

org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) [tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.CGLIB$flyway$0(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c$$FastClassBySpringCGLIB$$8a111325.invoke(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.flyway(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_66]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_66]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_66]
	at org.postgresql.core.PGStream.<init>(PGStream.java:61) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	... 75 common frames omitted

2017-05-11 18:16:24.185  WARN 70824 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
2017-05-11 18:16:24.201  INFO 70824 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 18:16:24.212 ERROR 70824 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:206) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.CGLIB$flyway$0(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c$$FastClassBySpringCGLIB$$8a111325.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.flyway(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 46 common frames omitted
Caused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:339) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 59 common frames omitted
Caused by: org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 60 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_66]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_66]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_66]
	at org.postgresql.core.PGStream.<init>(PGStream.java:61) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	... 75 common frames omitted

2017-05-11 18:16:24.219 ERROR 70824 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6ab7a896] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@319854f0]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 26 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:206) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.CGLIB$flyway$0(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c$$FastClassBySpringCGLIB$$8a111325.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.flyway(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 46 common frames omitted
Caused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:339) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 59 common frames omitted
Caused by: org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 60 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_66]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_66]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_66]
	at org.postgresql.core.PGStream.<init>(PGStream.java:61) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	... 75 common frames omitted

2017-05-11 18:16:24.403  INFO 70824 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70824 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:16:24.403  INFO 70824 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:16:24.407  INFO 70824 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7b7b3edb: startup date [Thu May 11 18:16:24 EEST 2017]; root of context hierarchy
2017-05-11 18:16:24.687  INFO 70824 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:16:24.692  INFO 70824 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:16:24.693  INFO 70824 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:16:24.747  INFO 70824 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:16:24.759  INFO 70824 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:16:25.009 ERROR 70824 --- [main] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.

org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) [tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.CGLIB$flyway$0(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c$$FastClassBySpringCGLIB$$8a111325.invoke(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.flyway(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_66]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_66]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_66]
	at org.postgresql.core.PGStream.<init>(PGStream.java:61) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	... 75 common frames omitted

2017-05-11 18:16:25.017  WARN 70824 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
2017-05-11 18:16:25.023  INFO 70824 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 18:16:25.036 ERROR 70824 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:206) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.CGLIB$flyway$0(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c$$FastClassBySpringCGLIB$$8a111325.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.flyway(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 46 common frames omitted
Caused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:339) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 59 common frames omitted
Caused by: org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 60 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_66]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_66]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_66]
	at org.postgresql.core.PGStream.<init>(PGStream.java:61) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	... 75 common frames omitted

2017-05-11 18:16:25.044 ERROR 70824 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6ab7a896] to prepare test instance [org.test.neo4j.transaction.test.ChainedTransactionFailureTest@20a05b32]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 26 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:206) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.CGLIB$flyway$0(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c$$FastClassBySpringCGLIB$$8a111325.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.flyway(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 46 common frames omitted
Caused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:339) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 59 common frames omitted
Caused by: org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 60 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_66]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_66]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_66]
	at org.postgresql.core.PGStream.<init>(PGStream.java:61) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	... 75 common frames omitted

2017-05-11 18:16:25.067  INFO 70824 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.test.neo4j.transaction.TransactionTestApplicationTests], using SpringBootContextLoader
2017-05-11 18:16:25.070  INFO 70824 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.test.neo4j.transaction.TransactionTestApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2017-05-11 18:16:25.116  INFO 70824 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-05-11 18:16:25.119  INFO 70824 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6ef1a1b9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5fbdc49b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@65753040, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2954b5ea, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4acb2510, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7be3a9ce, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@37d871c2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3baf6936, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@285f38f6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4e1459ea, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3ab6678b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7a904f32]
2017-05-11 18:16:25.211  INFO 70824 --- [main] o.t.n.t.TransactionTestApplicationTests  : Starting TransactionTestApplicationTests on Konstantinoss-Mac-mini.local with PID 70824 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:16:25.211  INFO 70824 --- [main] o.t.n.t.TransactionTestApplicationTests  : The following profiles are active: test
2017-05-11 18:16:25.224  INFO 70824 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3901f6af: startup date [Thu May 11 18:16:25 EEST 2017]; root of context hierarchy
2017-05-11 18:16:25.749  INFO 70824 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:16:25.755  INFO 70824 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:16:25.761  INFO 70824 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:16:25.810  INFO 70824 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:16:25.831  INFO 70824 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:16:26.120 ERROR 70824 --- [main] o.a.tomcat.jdbc.pool.ConnectionPool      : Unable to create initial connections of pool.

org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) [tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) [tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) [spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.CGLIB$flyway$0(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c$$FastClassBySpringCGLIB$$8a111325.invoke(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.flyway(<generated>) [spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) [spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) [spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_66]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_66]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_66]
	at org.postgresql.core.PGStream.<init>(PGStream.java:61) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	... 75 common frames omitted

2017-05-11 18:16:26.123  WARN 70824 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
2017-05-11 18:16:26.130  INFO 70824 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2017-05-11 18:16:26.136 ERROR 70824 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) [spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:206) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.CGLIB$flyway$0(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c$$FastClassBySpringCGLIB$$8a111325.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.flyway(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 46 common frames omitted
Caused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:339) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 59 common frames omitted
Caused by: org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 60 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_66]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_66]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_66]
	at org.postgresql.core.PGStream.<init>(PGStream.java:61) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	... 75 common frames omitted

2017-05-11 18:16:26.140 ERROR 70824 --- [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@6ef1a1b9] to prepare test instance [org.test.neo4j.transaction.TransactionTestApplicationTests@3291b443]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:189) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:131) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128) [surefire-junit4-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155) [surefire-booter-2.18.1.jar:2.18.1]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103) [surefire-booter-2.18.1.jar:2.18.1]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flyway' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1081) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:856) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) ~[spring-boot-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120) ~[spring-boot-test-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116) ~[spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 26 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.flywaydb.core.Flyway]: Factory method 'flyway' threw exception; nested exception is java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 45 common frames omitted
Caused by: java.lang.IllegalStateException: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:206) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration.flyway(FlywayAutoConfiguration.java:143) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.CGLIB$flyway$0(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c$$FastClassBySpringCGLIB$$8a111325.invoke(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358) ~[spring-context-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$FlywayConfiguration$$EnhancerBySpringCGLIB$$1f3b0e5c.flyway(<generated>) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 46 common frames omitted
Caused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:339) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:366) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration$SpringBootFlyway.setLocations(FlywayAutoConfiguration.java:196) ~[spring-boot-autoconfigure-1.5.3.RELEASE.jar:1.5.3.RELEASE]
	... 57 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Could not get JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.support.JdbcUtils.extractDatabaseMetaData(JdbcUtils.java:326) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 59 common frames omitted
Caused by: org.postgresql.util.PSQLException: Connection to localhost:15003 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:262) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:215) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.makeConnection(Driver.java:404) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.Driver.connect(Driver.java:272) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:310) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:203) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(ConnectionPool.java:735) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:667) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.java:482) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.java:154) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSourceProxy.java:118) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceProxy.java:107) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:131) ~[tomcat-jdbc-8.5.14.jar:na]
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:111) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:77) ~[spring-jdbc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 60 common frames omitted
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_66]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_66]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_66]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_66]
	at org.postgresql.core.PGStream.<init>(PGStream.java:61) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	... 75 common frames omitted

2017-05-11 18:29:36.414  INFO 70926 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70926 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:29:36.417  INFO 70926 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:29:36.599  INFO 70926 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4d5b6aac: startup date [Thu May 11 18:29:36 EEST 2017]; root of context hierarchy
2017-05-11 18:29:38.400  INFO 70926 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:29:38.503  INFO 70926 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:29:38.511  INFO 70926 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:29:38.844  INFO 70926 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:29:38.869  INFO 70926 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:29:40.613  INFO 70926 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 18:29:40.621  INFO 70926 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 18:29:40.717  INFO 70926 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.036s)
2017-05-11 18:29:40.771  INFO 70926 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 18:29:40.787  INFO 70926 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 18:29:41.027  INFO 70926 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 18:29:41.055  INFO 70926 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 18:29:41.177  INFO 70926 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 18:29:41.179  INFO 70926 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 18:29:41.182  INFO 70926 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 18:29:41.241  INFO 70926 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 18:29:41.549  INFO 70926 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 18:29:41.859  INFO 70926 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 18:29:41.861  INFO 70926 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@71e4b308
2017-05-11 18:29:42.060  WARN 70926 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:29:42.066  WARN 70926 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:29:42.476  INFO 70926 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 18:29:42.501  INFO 70926 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 18:29:42.609  INFO 70926 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:29:43.120  INFO 70926 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 18:29:43.120  INFO 70926 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 18:29:43.120  INFO 70926 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 24 classes
2017-05-11 18:29:43.140  INFO 70926 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 18:29:43.141  INFO 70926 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 24 classes loaded in 66116803 nanoseconds
2017-05-11 18:29:43.156  INFO 70926 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 18:29:43.347  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 18:29:43.349  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 18:29:43.350  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 18:29:43.351  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 18:29:43.351  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 18:29:43.352  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 18:29:43.353  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 18:29:43.353  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 18:29:43.354  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 18:29:43.354  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 18:29:43.362  INFO 70926 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 18:29:43.362  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 18:29:43.363  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 18:29:43.364  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 18:29:43.364  INFO 70926 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.http.converter.json.MappingJackson2HttpMessageConverter so treating as simple type for SD Commons
2017-05-11 18:29:43.365  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.json.MappingJackson2HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jacksonMessageConverter
2017-05-11 18:29:43.369  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 18:29:43.370  INFO 70926 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 18:29:43.370  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 18:29:43.371  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 18:29:43.376  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 18:29:43.379  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 18:29:43.381  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 18:29:43.382  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 18:29:43.382  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 18:29:43.382  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 18:29:43.382  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 18:29:43.383  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 18:29:43.383  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 18:29:43.392  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 18:29:43.394  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 18:29:43.394  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 18:29:43.395  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 18:29:43.400  WARN 70926 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 18:29:43.423  INFO 70926 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 18:29:44.382  INFO 70926 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@4d5b6aac: startup date [Thu May 11 18:29:36 EEST 2017]; root of context hierarchy
2017-05-11 18:29:44.498  INFO 70926 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.createNodeAndSubEntities(java.lang.String) throws java.lang.InterruptedException
2017-05-11 18:29:44.501  INFO 70926 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 18:29:44.504  INFO 70926 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 18:29:44.506  INFO 70926 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 18:29:44.545  INFO 70926 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:29:44.545  INFO 70926 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:29:44.576  INFO 70926 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 18:29:44.637  INFO 70926 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:29:45.086  INFO 70926 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 9.6 seconds (JVM running for 11.076)
2017-05-11 18:29:45.278  INFO 70926 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:29:45.995  INFO 70926 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 18:29:46.520  INFO 70926 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 18:29:46.951  INFO 70926 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 18:29:46.951  INFO 70926 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 18:29:46.963  INFO 70926 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 12 ms
2017-05-11 18:29:47.118  INFO 70926 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-285014376, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 18:29:47.119  INFO 70926 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1152106334, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 18:29:47.129  INFO 70926 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-2022626621, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 18:29:47.676  WARN 70926 --- [Thread-5] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 3 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$6148c77d.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$3548d962.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:29:47.700 ERROR 70926 --- [Thread-5] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$3548d962.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:29:47.708  WARN 70926 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 3 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$6148c77d.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$3548d962.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:29:47.719 ERROR 70926 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$3548d962.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:29:50.090  INFO 70926 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 18:29:50.251  INFO 70926 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:29:50.401  INFO 70926 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4d5b6aac: startup date [Thu May 11 18:29:36 EEST 2017]; root of context hierarchy
2017-05-11 18:29:50.404  INFO 70926 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@75425972 
2017-05-11 18:29:50.410  INFO 70926 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:30:16.560  INFO 70929 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70929 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:30:16.562  INFO 70929 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:30:16.735  INFO 70929 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4d5b6aac: startup date [Thu May 11 18:30:16 EEST 2017]; root of context hierarchy
2017-05-11 18:30:18.343  INFO 70929 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:30:18.375  INFO 70929 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:30:18.379  INFO 70929 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:30:18.703  INFO 70929 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:30:18.736  INFO 70929 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:30:20.473  INFO 70929 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 18:30:20.483  INFO 70929 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 18:30:20.580  INFO 70929 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.049s)
2017-05-11 18:30:20.620  INFO 70929 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 18:30:20.633  INFO 70929 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 18:30:20.865  INFO 70929 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 18:30:20.884  INFO 70929 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 18:30:20.966  INFO 70929 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 18:30:20.967  INFO 70929 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 18:30:20.969  INFO 70929 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 18:30:21.013  INFO 70929 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 18:30:21.336  INFO 70929 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 18:30:21.642  INFO 70929 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 18:30:21.651  INFO 70929 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@51ec2856
2017-05-11 18:30:21.845  WARN 70929 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:30:21.850  WARN 70929 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:30:22.255  INFO 70929 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 18:30:22.280  INFO 70929 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 18:30:22.401  INFO 70929 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:30:22.998  INFO 70929 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 18:30:22.999  INFO 70929 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 18:30:23.001  INFO 70929 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 24 classes
2017-05-11 18:30:23.022  INFO 70929 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 18:30:23.022  INFO 70929 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 24 classes loaded in 58749035 nanoseconds
2017-05-11 18:30:23.045  INFO 70929 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 18:30:23.334  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 18:30:23.335  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 18:30:23.339  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 18:30:23.343  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 18:30:23.345  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 18:30:23.346  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 18:30:23.346  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 18:30:23.347  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 18:30:23.348  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 18:30:23.349  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 18:30:23.354  INFO 70929 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 18:30:23.355  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 18:30:23.358  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 18:30:23.358  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 18:30:23.358  INFO 70929 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.http.converter.json.MappingJackson2HttpMessageConverter so treating as simple type for SD Commons
2017-05-11 18:30:23.361  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.json.MappingJackson2HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jacksonMessageConverter
2017-05-11 18:30:23.362  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 18:30:23.362  INFO 70929 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 18:30:23.362  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 18:30:23.363  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 18:30:23.365  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 18:30:23.368  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 18:30:23.371  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 18:30:23.372  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 18:30:23.372  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 18:30:23.373  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 18:30:23.374  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 18:30:23.374  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 18:30:23.374  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 18:30:23.380  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 18:30:23.381  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 18:30:23.382  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 18:30:23.382  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 18:30:23.393  WARN 70929 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 18:30:23.421  INFO 70929 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 18:30:24.514  INFO 70929 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@4d5b6aac: startup date [Thu May 11 18:30:16 EEST 2017]; root of context hierarchy
2017-05-11 18:30:24.657  INFO 70929 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.createNodeAndSubEntities(java.lang.String) throws java.lang.InterruptedException
2017-05-11 18:30:24.659  INFO 70929 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 18:30:24.664  INFO 70929 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 18:30:24.664  INFO 70929 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 18:30:24.714  INFO 70929 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:30:24.715  INFO 70929 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:30:24.764  INFO 70929 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 18:30:24.845  INFO 70929 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:30:25.317  INFO 70929 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 9.878 seconds (JVM running for 11.76)
2017-05-11 18:30:25.522  INFO 70929 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:30:26.003  INFO 70929 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 18:30:26.128  INFO 70929 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 18:30:26.159  INFO 70929 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 18:30:26.160  INFO 70929 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 18:30:26.178  INFO 70929 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 18 ms
2017-05-11 18:30:26.369  INFO 70929 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1761959046, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 18:30:26.370  INFO 70929 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1425958653, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 18:30:26.371  INFO 70929 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-420036214, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 18:30:26.515  WARN 70929 --- [Thread-5] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 1 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$6173a1f6.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$3573b3db.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:30:26.529 ERROR 70929 --- [Thread-5] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$3573b3db.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:30:26.531  WARN 70929 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 1 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$6173a1f6.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$3573b3db.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:30:26.544 ERROR 70929 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$3573b3db.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:30:29.290  WARN 70929 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505
2017-05-11 18:30:29.290 ERROR 70929 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint "box_uniq_name"
  Detail: Key (name)=(finalBoxName) already exists.
2017-05-11 18:30:29.292  INFO 70929 --- [main] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2017-05-11 18:30:29.309  INFO 70929 --- [main] o.t.n.t.e.GlobalExceptionHandler         : Exception in MVC

org.springframework.transaction.HeuristicCompletionException: Heuristic completion: outcome state is rolled back; nested exception is org.springframework.orm.jpa.JpaSystemException: Error while committing the transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:172) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) ~[spring-data-jpa-1.11.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy100.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.TestService.runTest(TestService.java:56) ~[classes/:na]
	at org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(TestNodeController.java:24) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.14.jar:8.5.14]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:65) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.14.jar:8.5.14]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:155) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest.runTestUsingSimulatingApiCalls(ChainedTransactionFailureTest.java:91) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]
Caused by: org.springframework.orm.jpa.JpaSystemException: Error while committing the transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:418) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.convertException(ExtendedEntityManagerCreator.java:490) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.afterCommit(ExtendedEntityManagerCreator.java:463) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.TransactionSynchronizationUtils.invokeAfterCommit(TransactionSynchronizationUtils.java:133) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.TransactionSynchronizationUtils.triggerAfterCommit(TransactionSynchronizationUtils.java:121) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerAfterCommit(AbstractPlatformTransactionManager.java:958) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:803) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	... 73 common frames omitted
Caused by: javax.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:87) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.afterCommit(ExtendedEntityManagerCreator.java:460) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 80 common frames omitted
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1692) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1602) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	... 81 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:207) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:45) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2949) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3449) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:89) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:582) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:456) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1282) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:465) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2963) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2339) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:485) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:147) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:65) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:61) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	... 81 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "box_uniq_name"
  Detail: Key (name)=(finalBoxName) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2155) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:288) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:430) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:356) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:168) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.14.jar:na]
	at com.sun.proxy.$Proxy83.executeUpdate(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:204) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	... 99 common frames omitted

2017-05-11 18:30:29.329  INFO 70929 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:30:29.424  INFO 70929 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4d5b6aac: startup date [Thu May 11 18:30:16 EEST 2017]; root of context hierarchy
2017-05-11 18:30:29.432  INFO 70929 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@573c172 
2017-05-11 18:30:29.438  INFO 70929 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:32:42.728  INFO 70934 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70934 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:32:42.789  INFO 70934 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:32:42.960  INFO 70934 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2053d869: startup date [Thu May 11 18:32:42 EEST 2017]; root of context hierarchy
2017-05-11 18:32:44.588  INFO 70934 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:32:44.624  INFO 70934 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:32:44.628  INFO 70934 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:32:44.952  INFO 70934 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:32:44.978  INFO 70934 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:32:46.673  INFO 70934 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 18:32:46.682  INFO 70934 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 18:32:46.774  INFO 70934 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.046s)
2017-05-11 18:32:46.862  INFO 70934 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 18:32:46.889  INFO 70934 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 18:32:47.084  INFO 70934 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 18:32:47.124  INFO 70934 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 18:32:47.211  INFO 70934 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 18:32:47.214  INFO 70934 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 18:32:47.217  INFO 70934 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 18:32:47.262  INFO 70934 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 18:32:47.515  INFO 70934 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 18:32:47.851  INFO 70934 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 18:32:47.855  INFO 70934 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4bd51d3e
2017-05-11 18:32:48.096  WARN 70934 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:32:48.100  WARN 70934 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:32:48.488  INFO 70934 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 18:32:48.516  INFO 70934 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 18:32:48.641  INFO 70934 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:32:49.267  INFO 70934 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 18:32:49.269  INFO 70934 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 18:32:49.270  INFO 70934 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 24 classes
2017-05-11 18:32:49.285  INFO 70934 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 18:32:49.286  INFO 70934 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 24 classes loaded in 53170095 nanoseconds
2017-05-11 18:32:49.310  INFO 70934 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 18:32:49.507  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 18:32:49.508  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 18:32:49.508  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 18:32:49.509  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 18:32:49.510  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 18:32:49.510  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 18:32:49.511  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 18:32:49.513  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 18:32:49.514  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 18:32:49.515  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 18:32:49.522  INFO 70934 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 18:32:49.525  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 18:32:49.526  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 18:32:49.526  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 18:32:49.527  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 18:32:49.527  INFO 70934 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 18:32:49.527  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 18:32:49.527  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 18:32:49.529  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 18:32:49.534  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 18:32:49.539  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 18:32:49.540  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 18:32:49.540  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 18:32:49.540  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 18:32:49.541  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 18:32:49.542  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 18:32:49.543  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 18:32:49.556  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.controller.BoxController.LOGGER
2017-05-11 18:32:49.556  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 18:32:49.557  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 18:32:49.557  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 18:32:49.558  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 18:32:49.560  WARN 70934 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 18:32:49.594  INFO 70934 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 18:32:50.745  INFO 70934 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@2053d869: startup date [Thu May 11 18:32:42 EEST 2017]; root of context hierarchy
2017-05-11 18:32:50.896  INFO 70934 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.getBox(java.lang.String) throws java.lang.InterruptedException
2017-05-11 18:32:50.901  INFO 70934 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 18:32:50.905  INFO 70934 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 18:32:50.906  INFO 70934 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 18:32:50.950  INFO 70934 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:32:50.950  INFO 70934 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:32:51.004  INFO 70934 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 18:32:51.053  INFO 70934 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:32:51.508  INFO 70934 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 9.715 seconds (JVM running for 11.13)
2017-05-11 18:32:51.709  INFO 70934 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:32:52.207  INFO 70934 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 18:32:52.300  INFO 70934 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 18:32:52.341  INFO 70934 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 18:32:52.342  INFO 70934 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 18:32:52.366  INFO 70934 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 24 ms
2017-05-11 18:32:52.558  INFO 70934 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-724976593, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 18:32:52.558  INFO 70934 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-806797703, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 18:32:52.558  INFO 70934 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1619125305, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 18:32:52.709  WARN 70934 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 0 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$45425d2f.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$19426f14.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:32:52.725  WARN 70934 --- [Thread-5] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 0 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$45425d2f.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$19426f14.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:32:52.725 ERROR 70934 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$19426f14.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:32:52.737 ERROR 70934 --- [Thread-5] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$19426f14.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:32:55.484  WARN 70934 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505
2017-05-11 18:32:55.485 ERROR 70934 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint "box_uniq_name"
  Detail: Key (name)=(finalBoxName) already exists.
2017-05-11 18:32:55.486  INFO 70934 --- [main] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2017-05-11 18:32:55.499  INFO 70934 --- [main] o.t.n.t.e.GlobalExceptionHandler         : Exception in MVC

org.springframework.transaction.HeuristicCompletionException: Heuristic completion: outcome state is rolled back; nested exception is org.springframework.orm.jpa.JpaSystemException: Error while committing the transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:172) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) ~[spring-data-jpa-1.11.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy100.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.TestService.runTest(TestService.java:56) ~[classes/:na]
	at org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(TestNodeController.java:24) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.14.jar:8.5.14]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:65) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.14.jar:8.5.14]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:155) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest.runTestUsingSimulatingApiCalls(ChainedTransactionFailureTest.java:90) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]
Caused by: org.springframework.orm.jpa.JpaSystemException: Error while committing the transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:418) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.convertException(ExtendedEntityManagerCreator.java:490) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.afterCommit(ExtendedEntityManagerCreator.java:463) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.TransactionSynchronizationUtils.invokeAfterCommit(TransactionSynchronizationUtils.java:133) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.TransactionSynchronizationUtils.triggerAfterCommit(TransactionSynchronizationUtils.java:121) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerAfterCommit(AbstractPlatformTransactionManager.java:958) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:803) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	... 73 common frames omitted
Caused by: javax.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:87) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.afterCommit(ExtendedEntityManagerCreator.java:460) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 80 common frames omitted
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1692) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1602) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	... 81 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:207) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:45) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2949) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3449) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:89) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:582) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:456) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1282) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:465) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2963) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2339) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:485) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:147) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:65) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:61) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	... 81 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "box_uniq_name"
  Detail: Key (name)=(finalBoxName) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2155) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:288) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:430) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:356) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:168) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.14.jar:na]
	at com.sun.proxy.$Proxy83.executeUpdate(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:204) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	... 99 common frames omitted

2017-05-11 18:32:55.513  INFO 70934 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:32:55.576  INFO 70934 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@2053d869: startup date [Thu May 11 18:32:42 EEST 2017]; root of context hierarchy
2017-05-11 18:32:55.582  INFO 70934 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@45c40a4d 
2017-05-11 18:32:55.593  INFO 70934 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:35:14.722  INFO 70936 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70936 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:35:14.727  INFO 70936 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:35:14.979  INFO 70936 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@23aa363a: startup date [Thu May 11 18:35:14 EEST 2017]; root of context hierarchy
2017-05-11 18:35:16.767  INFO 70936 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:35:16.810  INFO 70936 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:35:16.814  INFO 70936 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:35:17.133  INFO 70936 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:35:17.196  INFO 70936 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:35:19.065  INFO 70936 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 18:35:19.076  INFO 70936 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 18:35:19.178  INFO 70936 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.044s)
2017-05-11 18:35:19.224  INFO 70936 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 18:35:19.240  INFO 70936 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 18:35:19.507  INFO 70936 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 18:35:19.534  INFO 70936 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 18:35:19.650  INFO 70936 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 18:35:19.653  INFO 70936 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 18:35:19.654  INFO 70936 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 18:35:19.730  INFO 70936 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 18:35:20.056  INFO 70936 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 18:35:20.409  INFO 70936 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 18:35:20.414  INFO 70936 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@738a5848
2017-05-11 18:35:20.806  WARN 70936 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:35:20.815  WARN 70936 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:35:21.117  INFO 70936 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 18:35:21.159  INFO 70936 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 18:35:21.316  INFO 70936 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:35:21.934  INFO 70936 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 18:35:21.934  INFO 70936 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 18:35:21.934  INFO 70936 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 24 classes
2017-05-11 18:35:21.955  INFO 70936 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 18:35:21.955  INFO 70936 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 24 classes loaded in 68350613 nanoseconds
2017-05-11 18:35:21.979  INFO 70936 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 18:35:22.256  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 18:35:22.257  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 18:35:22.258  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 18:35:22.258  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 18:35:22.258  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 18:35:22.259  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 18:35:22.259  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 18:35:22.260  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 18:35:22.261  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 18:35:22.261  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 18:35:22.266  INFO 70936 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 18:35:22.267  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 18:35:22.268  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 18:35:22.271  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 18:35:22.273  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 18:35:22.273  INFO 70936 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 18:35:22.273  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 18:35:22.273  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 18:35:22.276  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 18:35:22.279  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 18:35:22.282  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 18:35:22.282  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 18:35:22.283  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 18:35:22.283  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 18:35:22.283  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 18:35:22.283  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 18:35:22.283  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 18:35:22.309  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.controller.BoxController.LOGGER
2017-05-11 18:35:22.309  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 18:35:22.310  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 18:35:22.311  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 18:35:22.312  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 18:35:22.315  WARN 70936 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 18:35:22.343  INFO 70936 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 18:35:23.651  INFO 70936 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@23aa363a: startup date [Thu May 11 18:35:14 EEST 2017]; root of context hierarchy
2017-05-11 18:35:23.817  INFO 70936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.getBox(java.lang.String) throws java.lang.InterruptedException
2017-05-11 18:35:23.819  INFO 70936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 18:35:23.823  INFO 70936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 18:35:23.823  INFO 70936 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 18:35:23.908  INFO 70936 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:35:23.909  INFO 70936 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:35:23.963  INFO 70936 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 18:35:24.013  INFO 70936 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:35:24.774  INFO 70936 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 11.481 seconds (JVM running for 13.664)
2017-05-11 18:35:25.011  INFO 70936 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:35:25.416  INFO 70936 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 18:35:25.481  INFO 70936 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 18:35:25.511  INFO 70936 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 18:35:25.511  INFO 70936 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 18:35:25.536  INFO 70936 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 24 ms
2017-05-11 18:35:25.719  INFO 70936 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-472836306, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 18:35:25.719  INFO 70936 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1190082020, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 18:35:25.719  INFO 70936 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1763258335, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 18:35:25.877  WARN 70936 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 2 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$5b79acc9.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$2f79beae.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:35:25.897  WARN 70936 --- [Thread-6] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 2 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$5b79acc9.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$2f79beae.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:35:25.901 ERROR 70936 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$2f79beae.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:35:25.908 ERROR 70936 --- [Thread-6] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$2f79beae.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:35:28.639  WARN 70936 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505
2017-05-11 18:35:28.639 ERROR 70936 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint "box_uniq_name"
  Detail: Key (name)=(finalBoxName) already exists.
2017-05-11 18:35:28.641  INFO 70936 --- [main] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2017-05-11 18:35:28.653  INFO 70936 --- [main] o.t.n.t.e.GlobalExceptionHandler         : Exception in MVC

org.springframework.transaction.HeuristicCompletionException: Heuristic completion: outcome state is rolled back; nested exception is org.springframework.orm.jpa.JpaSystemException: Error while committing the transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:172) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) ~[spring-data-jpa-1.11.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy100.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.TestService.runTest(TestService.java:56) ~[classes/:na]
	at org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(TestNodeController.java:24) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.14.jar:8.5.14]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:65) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.14.jar:8.5.14]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:155) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest.runTestUsingSimulatingApiCalls(ChainedTransactionFailureTest.java:92) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.orm.jpa.JpaSystemException: Error while committing the transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:418) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.convertException(ExtendedEntityManagerCreator.java:490) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.afterCommit(ExtendedEntityManagerCreator.java:463) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.TransactionSynchronizationUtils.invokeAfterCommit(TransactionSynchronizationUtils.java:133) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.TransactionSynchronizationUtils.triggerAfterCommit(TransactionSynchronizationUtils.java:121) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerAfterCommit(AbstractPlatformTransactionManager.java:958) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:803) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	... 68 common frames omitted
Caused by: javax.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:87) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.afterCommit(ExtendedEntityManagerCreator.java:460) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 75 common frames omitted
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1692) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1602) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	... 76 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:207) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:45) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2949) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3449) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:89) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:582) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:456) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1282) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:465) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2963) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2339) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:485) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:147) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:65) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:61) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	... 76 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "box_uniq_name"
  Detail: Key (name)=(finalBoxName) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2155) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:288) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:430) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:356) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:168) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.14.jar:na]
	at com.sun.proxy.$Proxy83.executeUpdate(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:204) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	... 94 common frames omitted

2017-05-11 18:35:28.667  INFO 70936 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:35:28.733  INFO 70936 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@23aa363a: startup date [Thu May 11 18:35:14 EEST 2017]; root of context hierarchy
2017-05-11 18:35:28.739  INFO 70936 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@5e55afaa 
2017-05-11 18:35:28.747  INFO 70936 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:38:16.339  INFO 70940 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70940 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:38:16.349  INFO 70940 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:38:16.471  INFO 70940 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@10d307f1: startup date [Thu May 11 18:38:16 EEST 2017]; root of context hierarchy
2017-05-11 18:38:18.195  INFO 70940 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:38:18.231  INFO 70940 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:38:18.239  INFO 70940 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:38:18.618  INFO 70940 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:38:18.656  INFO 70940 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:38:20.702  INFO 70940 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 18:38:20.723  INFO 70940 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 18:38:20.835  INFO 70940 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.043s)
2017-05-11 18:38:20.900  INFO 70940 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 18:38:20.920  INFO 70940 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 18:38:21.165  INFO 70940 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 18:38:21.194  INFO 70940 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 18:38:21.335  INFO 70940 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 18:38:21.338  INFO 70940 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 18:38:21.340  INFO 70940 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 18:38:21.418  INFO 70940 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 18:38:21.669  INFO 70940 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 18:38:21.970  INFO 70940 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 18:38:21.972  INFO 70940 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2bc426f0
2017-05-11 18:38:22.229  WARN 70940 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:38:22.234  WARN 70940 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:38:22.599  INFO 70940 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Cargo (class must be instantiated by Interceptor)
2017-05-11 18:38:22.634  INFO 70940 --- [main] org.hibernate.tuple.PojoInstantiator     : HHH000182: No default (no-argument) constructor for class: org.test.neo4j.transaction.domain.Box (class must be instantiated by Interceptor)
2017-05-11 18:38:22.772  INFO 70940 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:38:23.417  INFO 70940 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 18:38:23.417  INFO 70940 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 18:38:23.417  INFO 70940 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 24 classes
2017-05-11 18:38:23.435  INFO 70940 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 18:38:23.435  INFO 70940 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 24 classes loaded in 61266867 nanoseconds
2017-05-11 18:38:23.462  INFO 70940 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 18:38:23.653  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 18:38:23.653  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 18:38:23.655  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 18:38:23.655  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 18:38:23.656  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 18:38:23.656  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 18:38:23.656  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 18:38:23.657  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 18:38:23.658  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 18:38:23.658  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 18:38:23.665  INFO 70940 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 18:38:23.666  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 18:38:23.668  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 18:38:23.669  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 18:38:23.670  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 18:38:23.672  INFO 70940 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 18:38:23.673  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 18:38:23.673  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 18:38:23.682  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 18:38:23.685  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 18:38:23.687  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 18:38:23.688  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 18:38:23.688  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 18:38:23.688  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 18:38:23.689  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 18:38:23.689  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 18:38:23.689  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 18:38:23.704  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.controller.BoxController.LOGGER
2017-05-11 18:38:23.704  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 18:38:23.705  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 18:38:23.705  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 18:38:23.706  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 18:38:23.708  WARN 70940 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 18:38:23.737  INFO 70940 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 18:38:24.860  INFO 70940 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@10d307f1: startup date [Thu May 11 18:38:16 EEST 2017]; root of context hierarchy
2017-05-11 18:38:25.005  INFO 70940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.getBox(java.lang.String) throws java.lang.InterruptedException
2017-05-11 18:38:25.007  INFO 70940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 18:38:25.010  INFO 70940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 18:38:25.011  INFO 70940 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 18:38:25.064  INFO 70940 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:38:25.065  INFO 70940 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:38:25.114  INFO 70940 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 18:38:25.178  INFO 70940 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:38:25.705  INFO 70940 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 10.368 seconds (JVM running for 11.915)
2017-05-11 18:38:26.035  INFO 70940 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:38:26.516  INFO 70940 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 18:38:26.574  INFO 70940 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 18:38:26.605  INFO 70940 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 18:38:26.605  INFO 70940 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 18:38:26.645  INFO 70940 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 39 ms
2017-05-11 18:38:26.870  INFO 70940 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1547919706, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 18:38:26.870  INFO 70940 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-872547889, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 18:38:26.870  INFO 70940 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1489828386, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 18:38:27.048  WARN 70940 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 0 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$961aac29.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6a1abe0e.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:38:27.071  WARN 70940 --- [Thread-6] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 0 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy103.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy105.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$961aac29.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6a1abe0e.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:38:27.071 ERROR 70940 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6a1abe0e.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:38:27.084 ERROR 70940 --- [Thread-6] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6a1abe0e.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:38:29.803  INFO 70940 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 18:38:30.065  INFO 70940 --- [main] o.t.n.t.service.TestNodeService          : ===getBox with name:finalBoxName
2017-05-11 18:38:30.080  INFO 70940 --- [main] o.t.n.t.e.GlobalExceptionHandler         : Exception in MVC

org.springframework.orm.jpa.JpaSystemException: No default constructor for entity:  : org.test.neo4j.transaction.domain.Box; nested exception is org.hibernate.InstantiationException: No default constructor for entity:  : org.test.neo4j.transaction.domain.Box
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:333) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:488) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) ~[spring-data-jpa-1.11.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy100.findByName(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.controller.BoxController.getBox(BoxController.java:30) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.14.jar:8.5.14]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:65) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.14.jar:8.5.14]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:155) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest.runTestUsingSimulatingApiCalls(ChainedTransactionFailureTest.java:96) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]
Caused by: org.hibernate.InstantiationException: No default constructor for entity:  : org.test.neo4j.transaction.domain.Box
	at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:84) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tuple.PojoInstantiator.instantiate(PojoInstantiator.java:100) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.tuple.entity.AbstractEntityTuplizer.instantiate(AbstractEntityTuplizer.java:636) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.instantiate(AbstractEntityPersister.java:4690) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1470) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1454) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1646) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1544) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:727) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:972) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:930) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:336) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2617) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2600) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2429) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2424) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:501) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:371) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:216) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1326) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.QueryImpl.list(QueryImpl.java:87) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.QueryImpl.list(QueryImpl.java:606) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.QueryImpl.getSingleResult(QueryImpl.java:529) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.criteria.compile.CriteriaQueryTypeQueryAdapter.getSingleResult(CriteriaQueryTypeQueryAdapter.java:54) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:206) ~[spring-data-jpa-1.11.3.RELEASE.jar:na]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:85) ~[spring-data-jpa-1.11.3.RELEASE.jar:na]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:116) ~[spring-data-jpa-1.11.3.RELEASE.jar:na]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:106) ~[spring-data-jpa-1.11.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:483) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 67 common frames omitted

2017-05-11 18:38:30.089  INFO 70940 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:38:30.164  INFO 70940 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@10d307f1: startup date [Thu May 11 18:38:16 EEST 2017]; root of context hierarchy
2017-05-11 18:38:30.170  INFO 70940 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@693212a8 
2017-05-11 18:38:30.175  INFO 70940 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:41:18.297  INFO 70949 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70949 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:41:18.299  INFO 70949 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:41:18.452  INFO 70949 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1e683a3e: startup date [Thu May 11 18:41:18 EEST 2017]; root of context hierarchy
2017-05-11 18:41:19.899  INFO 70949 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:41:19.922  INFO 70949 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:41:19.926  INFO 70949 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:41:20.103  INFO 70949 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:41:20.137  INFO 70949 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:41:21.961  INFO 70949 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 18:41:21.972  INFO 70949 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 18:41:22.034  INFO 70949 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.025s)
2017-05-11 18:41:22.092  INFO 70949 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 18:41:22.110  INFO 70949 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 18:41:22.343  INFO 70949 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 18:41:22.367  INFO 70949 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 18:41:22.459  INFO 70949 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 18:41:22.461  INFO 70949 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 18:41:22.463  INFO 70949 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 18:41:22.523  INFO 70949 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 18:41:22.798  INFO 70949 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 18:41:23.179  INFO 70949 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 18:41:23.182  INFO 70949 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@70e94ecb
2017-05-11 18:41:23.511  WARN 70949 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:41:23.515  WARN 70949 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:41:24.291  INFO 70949 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:41:24.916  INFO 70949 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 18:41:24.916  INFO 70949 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 18:41:24.916  INFO 70949 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 24 classes
2017-05-11 18:41:24.945  INFO 70949 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 18:41:24.945  INFO 70949 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 24 classes loaded in 73423067 nanoseconds
2017-05-11 18:41:24.965  INFO 70949 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 18:41:25.470  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 18:41:25.470  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 18:41:25.471  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 18:41:25.471  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 18:41:25.471  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 18:41:25.472  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 18:41:25.478  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 18:41:25.479  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 18:41:25.479  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 18:41:25.480  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 18:41:25.484  INFO 70949 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 18:41:25.485  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 18:41:25.486  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 18:41:25.486  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 18:41:25.486  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 18:41:25.487  INFO 70949 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 18:41:25.487  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 18:41:25.487  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 18:41:25.490  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 18:41:25.508  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 18:41:25.513  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 18:41:25.519  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 18:41:25.520  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 18:41:25.520  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 18:41:25.520  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 18:41:25.520  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 18:41:25.521  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 18:41:25.529  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.controller.BoxController.LOGGER
2017-05-11 18:41:25.530  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 18:41:25.531  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 18:41:25.531  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 18:41:25.531  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 18:41:25.533  WARN 70949 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 18:41:25.567  INFO 70949 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 18:41:26.675  INFO 70949 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1e683a3e: startup date [Thu May 11 18:41:18 EEST 2017]; root of context hierarchy
2017-05-11 18:41:26.801  INFO 70949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.getBox(java.lang.String) throws java.lang.InterruptedException
2017-05-11 18:41:26.804  INFO 70949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 18:41:26.807  INFO 70949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 18:41:26.808  INFO 70949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 18:41:26.860  INFO 70949 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:41:26.861  INFO 70949 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:41:26.921  INFO 70949 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 18:41:26.997  INFO 70949 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:41:27.501  INFO 70949 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 10.171 seconds (JVM running for 11.421)
2017-05-11 18:41:27.700  INFO 70949 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:41:28.042  INFO 70949 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 18:41:28.109  INFO 70949 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 18:41:28.126  INFO 70949 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 18:41:28.126  INFO 70949 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 18:41:28.149  INFO 70949 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 22 ms
2017-05-11 18:41:28.314  INFO 70949 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-166485626, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 18:41:28.315  INFO 70949 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-2092042863, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 18:41:28.315  INFO 70949 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1367338517, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 18:41:28.447  WARN 70949 --- [Thread-5] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 2 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$32964903.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6965ae8.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:41:28.465 ERROR 70949 --- [Thread-5] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6965ae8.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:41:28.466  WARN 70949 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 2 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$32964903.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6965ae8.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:41:28.476 ERROR 70949 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6965ae8.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:41:31.275  INFO 70949 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 18:41:31.465  INFO 70949 --- [main] o.t.n.t.service.TestNodeService          : ===getBox with name:finalBoxName
2017-05-11 18:41:31.541  INFO 70949 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1e683a3e: startup date [Thu May 11 18:41:18 EEST 2017]; root of context hierarchy
2017-05-11 18:41:31.545  INFO 70949 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@70ad882e 
2017-05-11 18:41:31.549  INFO 70949 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:42:01.741  INFO 70951 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70951 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:42:01.743  INFO 70951 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:42:01.881  INFO 70951 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@f80945f: startup date [Thu May 11 18:42:01 EEST 2017]; root of context hierarchy
2017-05-11 18:42:03.579  INFO 70951 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:42:03.638  INFO 70951 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:42:03.641  INFO 70951 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:42:04.034  INFO 70951 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:42:04.081  INFO 70951 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:42:06.017  INFO 70951 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 18:42:06.024  INFO 70951 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 18:42:06.117  INFO 70951 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.039s)
2017-05-11 18:42:06.160  INFO 70951 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 18:42:06.172  INFO 70951 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 18:42:06.455  INFO 70951 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 18:42:06.488  INFO 70951 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 18:42:06.618  INFO 70951 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 18:42:06.624  INFO 70951 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 18:42:06.627  INFO 70951 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 18:42:06.754  INFO 70951 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 18:42:07.087  INFO 70951 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 18:42:07.444  INFO 70951 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 18:42:07.450  INFO 70951 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@61f377d1
2017-05-11 18:42:07.999  WARN 70951 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:42:08.007  WARN 70951 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:42:08.555  INFO 70951 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:42:09.184  INFO 70951 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 18:42:09.184  INFO 70951 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 18:42:09.185  INFO 70951 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 24 classes
2017-05-11 18:42:09.203  INFO 70951 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 18:42:09.203  INFO 70951 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 24 classes loaded in 56970381 nanoseconds
2017-05-11 18:42:09.225  INFO 70951 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 18:42:09.495  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 18:42:09.495  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 18:42:09.496  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 18:42:09.497  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 18:42:09.497  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 18:42:09.498  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 18:42:09.499  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 18:42:09.499  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 18:42:09.500  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 18:42:09.501  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 18:42:09.510  INFO 70951 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 18:42:09.510  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 18:42:09.511  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 18:42:09.512  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 18:42:09.512  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 18:42:09.512  INFO 70951 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 18:42:09.513  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 18:42:09.513  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 18:42:09.516  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 18:42:09.520  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 18:42:09.527  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 18:42:09.529  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 18:42:09.530  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 18:42:09.530  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 18:42:09.530  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 18:42:09.531  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 18:42:09.531  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 18:42:09.542  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.controller.BoxController.LOGGER
2017-05-11 18:42:09.543  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 18:42:09.544  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 18:42:09.544  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 18:42:09.544  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 18:42:09.548  WARN 70951 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 18:42:09.569  INFO 70951 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 18:42:10.901  INFO 70951 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@f80945f: startup date [Thu May 11 18:42:01 EEST 2017]; root of context hierarchy
2017-05-11 18:42:11.083  INFO 70951 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.getBox(java.lang.String) throws java.lang.InterruptedException
2017-05-11 18:42:11.086  INFO 70951 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 18:42:11.089  INFO 70951 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 18:42:11.090  INFO 70951 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 18:42:11.184  INFO 70951 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:42:11.184  INFO 70951 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:42:11.233  INFO 70951 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 18:42:11.317  INFO 70951 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:42:12.058  INFO 70951 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 11.533 seconds (JVM running for 13.205)
2017-05-11 18:42:12.374  INFO 70951 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:42:12.888  INFO 70951 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 18:42:12.980  INFO 70951 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 18:42:12.997  INFO 70951 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 18:42:12.997  INFO 70951 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 18:42:13.021  INFO 70951 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 24 ms
2017-05-11 18:42:13.238  INFO 70951 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-132009657, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 18:42:13.239  INFO 70951 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1673454093, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 18:42:13.239  INFO 70951 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-106262783, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 18:42:13.427  WARN 70951 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 1 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$33a86f65.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$7a8814a.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:42:13.442  WARN 70951 --- [Thread-5] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 1 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$33a86f65.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$7a8814a.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:42:13.442 ERROR 70951 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$7a8814a.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:42:13.465 ERROR 70951 --- [Thread-5] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$7a8814a.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:42:16.146  WARN 70951 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505
2017-05-11 18:42:16.148 ERROR 70951 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint "box_uniq_name"
  Detail: Key (name)=(finalBoxName) already exists.
2017-05-11 18:42:16.150  INFO 70951 --- [main] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2017-05-11 18:42:16.164  INFO 70951 --- [main] o.t.n.t.e.GlobalExceptionHandler         : Exception in MVC

org.springframework.transaction.HeuristicCompletionException: Heuristic completion: outcome state is rolled back; nested exception is org.springframework.orm.jpa.JpaSystemException: Error while committing the transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:172) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) ~[spring-data-jpa-1.11.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy99.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.TestService.runTest(TestService.java:56) ~[classes/:na]
	at org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(TestNodeController.java:24) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.14.jar:8.5.14]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:65) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.14.jar:8.5.14]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:155) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest.runTestUsingSimulatingApiCalls(ChainedTransactionFailureTest.java:93) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
Caused by: org.springframework.orm.jpa.JpaSystemException: Error while committing the transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:418) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.convertException(ExtendedEntityManagerCreator.java:490) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.afterCommit(ExtendedEntityManagerCreator.java:463) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.TransactionSynchronizationUtils.invokeAfterCommit(TransactionSynchronizationUtils.java:133) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.TransactionSynchronizationUtils.triggerAfterCommit(TransactionSynchronizationUtils.java:121) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerAfterCommit(AbstractPlatformTransactionManager.java:958) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:803) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	... 67 common frames omitted
Caused by: javax.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:87) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.afterCommit(ExtendedEntityManagerCreator.java:460) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 74 common frames omitted
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1692) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1602) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	... 75 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:207) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:45) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2949) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3449) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:89) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:582) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:456) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1282) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:465) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2963) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2339) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:485) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:147) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:65) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:61) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	... 75 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "box_uniq_name"
  Detail: Key (name)=(finalBoxName) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2155) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:288) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:430) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:356) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:168) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.14.jar:na]
	at com.sun.proxy.$Proxy82.executeUpdate(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:204) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	... 93 common frames omitted

2017-05-11 18:42:19.009  INFO 70951 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@f80945f: startup date [Thu May 11 18:42:01 EEST 2017]; root of context hierarchy
2017-05-11 18:42:19.013  INFO 70951 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@59fe0f1 
2017-05-11 18:42:19.018  INFO 70951 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:43:11.412  INFO 70954 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70954 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:43:11.446  INFO 70954 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:43:11.605  INFO 70954 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1e683a3e: startup date [Thu May 11 18:43:11 EEST 2017]; root of context hierarchy
2017-05-11 18:43:13.429  INFO 70954 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:43:13.457  INFO 70954 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:43:13.460  INFO 70954 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:43:14.050  INFO 70954 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:43:14.087  INFO 70954 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:43:16.661  INFO 70954 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 18:43:16.671  INFO 70954 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 18:43:16.771  INFO 70954 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.038s)
2017-05-11 18:43:16.823  INFO 70954 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 18:43:16.835  INFO 70954 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 18:43:17.081  INFO 70954 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 18:43:17.110  INFO 70954 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 18:43:17.211  INFO 70954 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 18:43:17.212  INFO 70954 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 18:43:17.214  INFO 70954 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 18:43:17.259  INFO 70954 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 18:43:17.526  INFO 70954 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 18:43:17.803  INFO 70954 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 18:43:17.808  INFO 70954 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@58740366
2017-05-11 18:43:18.046  WARN 70954 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:43:18.050  WARN 70954 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:43:18.493  INFO 70954 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:43:18.996  INFO 70954 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 18:43:18.997  INFO 70954 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 18:43:18.997  INFO 70954 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 24 classes
2017-05-11 18:43:19.013  INFO 70954 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 18:43:19.013  INFO 70954 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 24 classes loaded in 48720924 nanoseconds
2017-05-11 18:43:19.033  INFO 70954 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 18:43:19.199  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 18:43:19.200  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 18:43:19.204  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 18:43:19.205  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 18:43:19.205  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 18:43:19.205  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 18:43:19.207  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 18:43:19.208  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 18:43:19.209  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 18:43:19.209  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 18:43:19.220  INFO 70954 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 18:43:19.226  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 18:43:19.230  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 18:43:19.232  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 18:43:19.233  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 18:43:19.233  INFO 70954 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 18:43:19.234  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 18:43:19.234  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 18:43:19.237  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 18:43:19.243  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 18:43:19.249  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 18:43:19.250  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 18:43:19.250  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 18:43:19.250  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 18:43:19.251  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 18:43:19.251  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 18:43:19.252  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 18:43:19.261  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.controller.BoxController.LOGGER
2017-05-11 18:43:19.261  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 18:43:19.261  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 18:43:19.262  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 18:43:19.262  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 18:43:19.264  WARN 70954 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 18:43:19.286  INFO 70954 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 18:43:20.182  INFO 70954 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1e683a3e: startup date [Thu May 11 18:43:11 EEST 2017]; root of context hierarchy
2017-05-11 18:43:20.316  INFO 70954 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.getBox(java.lang.String) throws java.lang.InterruptedException
2017-05-11 18:43:20.318  INFO 70954 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 18:43:20.321  INFO 70954 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 18:43:20.321  INFO 70954 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 18:43:20.366  INFO 70954 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:43:20.366  INFO 70954 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:43:20.406  INFO 70954 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 18:43:20.470  INFO 70954 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:43:21.025  INFO 70954 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 10.587 seconds (JVM running for 11.905)
2017-05-11 18:43:21.252  INFO 70954 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:43:21.712  INFO 70954 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 18:43:21.783  INFO 70954 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 18:43:21.805  INFO 70954 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 18:43:21.806  INFO 70954 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 18:43:21.829  INFO 70954 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 22 ms
2017-05-11 18:43:22.026  INFO 70954 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-872207114, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 18:43:22.029  INFO 70954 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-2086041291, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 18:43:22.029  INFO 70954 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1770013552, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 18:43:22.172  WARN 70954 --- [Thread-5] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 3 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$961aac29.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6a1abe0e.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:43:22.188  WARN 70954 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 3 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$961aac29.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:26) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6a1abe0e.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:43:22.191 ERROR 70954 --- [Thread-5] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6a1abe0e.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:43:22.202 ERROR 70954 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$6a1abe0e.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:43:24.954  WARN 70954 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23505
2017-05-11 18:43:24.954 ERROR 70954 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: duplicate key value violates unique constraint "box_uniq_name"
  Detail: Key (name)=(finalBoxName) already exists.
2017-05-11 18:43:24.956  INFO 70954 --- [main] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements
2017-05-11 18:43:24.973  INFO 70954 --- [main] o.t.n.t.e.GlobalExceptionHandler         : Exception in MVC

org.springframework.transaction.HeuristicCompletionException: Heuristic completion: outcome state is rolled back; nested exception is org.springframework.orm.jpa.JpaSystemException: Error while committing the transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:172) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133) ~[spring-data-jpa-1.11.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy99.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.TestService.runTest(TestService.java:56) ~[classes/:na]
	at org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities(TestNodeController.java:24) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) ~[spring-web-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) ~[spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:635) ~[tomcat-embed-core-8.5.14.jar:8.5.14]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:65) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.14.jar:8.5.14]
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:155) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.test.ChainedTransactionFailureTest.runTestUsingSimulatingApiCalls(ChainedTransactionFailureTest.java:94) [test-classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137) [junit-4.12.jar:4.12]
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:237) [junit-rt.jar:na]
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) [junit-rt.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147) [idea_rt.jar:na]
Caused by: org.springframework.orm.jpa.JpaSystemException: Error while committing the transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:418) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.convertException(ExtendedEntityManagerCreator.java:490) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.afterCommit(ExtendedEntityManagerCreator.java:463) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.TransactionSynchronizationUtils.invokeAfterCommit(TransactionSynchronizationUtils.java:133) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.TransactionSynchronizationUtils.triggerAfterCommit(TransactionSynchronizationUtils.java:121) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerAfterCommit(AbstractPlatformTransactionManager.java:958) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:803) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	... 72 common frames omitted
Caused by: javax.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:87) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerSynchronization.afterCommit(ExtendedEntityManagerCreator.java:460) ~[spring-orm-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	... 79 common frames omitted
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1692) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1602) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:68) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	... 80 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:207) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:45) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2949) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3449) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:89) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:582) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:456) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1282) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:465) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2963) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2339) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:485) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:147) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:231) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:65) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	at org.hibernate.jpa.internal.TransactionImpl.commit(TransactionImpl.java:61) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]
	... 80 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "box_uniq_name"
  Detail: Key (name)=(finalBoxName) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2455) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2155) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:288) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:430) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:356) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:168) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135) ~[postgresql-9.4.1212.jre7.jar:9.4.1212.jre7]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114) ~[tomcat-jdbc-8.5.14.jar:na]
	at com.sun.proxy.$Proxy82.executeUpdate(Unknown Source) ~[na:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:204) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]
	... 98 common frames omitted

2017-05-11 18:43:25.001  INFO 70954 --- [main] o.t.n.t.service.TestNodeService          : ===getBox with name:finalBoxName
2017-05-11 18:43:25.037  INFO 70954 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 18:43:25.433  INFO 70954 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1e683a3e: startup date [Thu May 11 18:43:11 EEST 2017]; root of context hierarchy
2017-05-11 18:43:25.436  INFO 70954 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@1c5dde14 
2017-05-11 18:43:25.445  INFO 70954 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:43:53.517  INFO 70961 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70961 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:43:53.519  INFO 70961 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:43:53.686  INFO 70961 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@f80945f: startup date [Thu May 11 18:43:53 EEST 2017]; root of context hierarchy
2017-05-11 18:43:55.894  INFO 70961 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:43:55.962  INFO 70961 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:43:56.003  INFO 70961 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:43:56.640  INFO 70961 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:43:56.701  INFO 70961 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:43:59.030  INFO 70961 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 18:43:59.035  INFO 70961 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 18:43:59.126  INFO 70961 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.034s)
2017-05-11 18:43:59.167  INFO 70961 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 18:43:59.180  INFO 70961 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 18:43:59.461  INFO 70961 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 18:43:59.485  INFO 70961 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 18:43:59.564  INFO 70961 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 18:43:59.566  INFO 70961 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 18:43:59.568  INFO 70961 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 18:43:59.628  INFO 70961 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 18:43:59.914  INFO 70961 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 18:44:00.182  INFO 70961 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 18:44:00.185  INFO 70961 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@14b528b6
2017-05-11 18:44:00.554  WARN 70961 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:44:00.558  WARN 70961 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:44:01.028  INFO 70961 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:44:01.832  INFO 70961 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 18:44:01.832  INFO 70961 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 18:44:01.833  INFO 70961 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 24 classes
2017-05-11 18:44:01.866  INFO 70961 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 18:44:01.867  INFO 70961 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 24 classes loaded in 87250543 nanoseconds
2017-05-11 18:44:01.886  INFO 70961 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 18:44:02.169  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 18:44:02.170  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 18:44:02.170  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 18:44:02.170  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 18:44:02.171  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 18:44:02.172  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 18:44:02.173  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 18:44:02.174  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 18:44:02.174  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 18:44:02.174  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 18:44:02.178  INFO 70961 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 18:44:02.179  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 18:44:02.180  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 18:44:02.181  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 18:44:02.181  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 18:44:02.181  INFO 70961 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 18:44:02.182  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 18:44:02.183  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 18:44:02.187  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 18:44:02.190  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 18:44:02.194  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 18:44:02.195  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 18:44:02.195  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 18:44:02.195  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 18:44:02.195  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 18:44:02.195  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 18:44:02.196  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 18:44:02.202  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.controller.BoxController.LOGGER
2017-05-11 18:44:02.203  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 18:44:02.204  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 18:44:02.204  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 18:44:02.204  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 18:44:02.211  WARN 70961 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 18:44:02.239  INFO 70961 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 18:44:03.722  INFO 70961 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@f80945f: startup date [Thu May 11 18:43:53 EEST 2017]; root of context hierarchy
2017-05-11 18:44:03.923  INFO 70961 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.getBox(java.lang.String) throws java.lang.InterruptedException
2017-05-11 18:44:03.931  INFO 70961 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 18:44:03.935  INFO 70961 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 18:44:03.936  INFO 70961 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 18:44:04.034  INFO 70961 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:44:04.035  INFO 70961 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:44:04.094  INFO 70961 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 18:44:04.183  INFO 70961 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:44:05.080  INFO 70961 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 13.135 seconds (JVM running for 15.532)
2017-05-11 18:44:12.056  INFO 70961 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:44:12.579  INFO 70961 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 18:44:12.650  INFO 70961 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 18:44:12.671  INFO 70961 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 18:44:12.671  INFO 70961 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 18:44:12.739  INFO 70961 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@f80945f: startup date [Thu May 11 18:43:53 EEST 2017]; root of context hierarchy
2017-05-11 18:44:12.749  INFO 70961 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@2c36f86f 
2017-05-11 18:44:12.754  INFO 70961 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:44:34.678  INFO 70964 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70964 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:44:34.680  INFO 70964 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:44:34.861  INFO 70964 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@628c4ac0: startup date [Thu May 11 18:44:34 EEST 2017]; root of context hierarchy
2017-05-11 18:44:36.492  INFO 70964 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:44:36.527  INFO 70964 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:44:36.533  INFO 70964 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:44:36.788  INFO 70964 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:44:36.810  INFO 70964 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:44:38.571  INFO 70964 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 18:44:38.578  INFO 70964 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 18:44:38.671  INFO 70964 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.041s)
2017-05-11 18:44:38.713  INFO 70964 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 18:44:38.725  INFO 70964 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 18:44:38.941  INFO 70964 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 18:44:38.980  INFO 70964 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 18:44:39.098  INFO 70964 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 18:44:39.102  INFO 70964 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 18:44:39.105  INFO 70964 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 18:44:39.205  INFO 70964 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 18:44:39.509  INFO 70964 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 18:44:40.012  INFO 70964 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 18:44:40.017  INFO 70964 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@7cfb0c4c
2017-05-11 18:44:40.610  WARN 70964 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:44:40.619  WARN 70964 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:44:41.315  INFO 70964 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:44:42.040  INFO 70964 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 18:44:42.040  INFO 70964 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 18:44:42.041  INFO 70964 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 24 classes
2017-05-11 18:44:42.067  INFO 70964 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 18:44:42.067  INFO 70964 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 24 classes loaded in 98023172 nanoseconds
2017-05-11 18:44:42.087  INFO 70964 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 18:44:42.348  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 18:44:42.349  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 18:44:42.350  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 18:44:42.350  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 18:44:42.351  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 18:44:42.351  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 18:44:42.352  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 18:44:42.353  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 18:44:42.354  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 18:44:42.355  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 18:44:42.365  INFO 70964 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 18:44:42.365  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 18:44:42.366  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 18:44:42.367  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 18:44:42.368  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 18:44:42.369  INFO 70964 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 18:44:42.370  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 18:44:42.370  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 18:44:42.374  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 18:44:42.379  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 18:44:42.384  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 18:44:42.385  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 18:44:42.385  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 18:44:42.385  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 18:44:42.385  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 18:44:42.385  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 18:44:42.386  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 18:44:42.395  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.controller.BoxController.LOGGER
2017-05-11 18:44:42.396  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 18:44:42.397  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 18:44:42.397  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 18:44:42.398  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 18:44:42.402  WARN 70964 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 18:44:42.432  INFO 70964 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 18:44:43.817  INFO 70964 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@628c4ac0: startup date [Thu May 11 18:44:34 EEST 2017]; root of context hierarchy
2017-05-11 18:44:43.988  INFO 70964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.getBox(java.lang.String) throws java.lang.InterruptedException
2017-05-11 18:44:43.992  INFO 70964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 18:44:43.999  INFO 70964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 18:44:44.000  INFO 70964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 18:44:44.098  INFO 70964 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:44:44.098  INFO 70964 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:44:44.153  INFO 70964 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 18:44:44.202  INFO 70964 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:44:44.841  INFO 70964 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 11.28 seconds (JVM running for 12.917)
2017-05-11 18:44:46.816  INFO 70964 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:44:47.331  INFO 70964 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 18:44:51.349  INFO 70964 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 18:44:51.372  INFO 70964 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 18:44:51.373  INFO 70964 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 18:44:51.416  INFO 70964 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 42 ms
2017-05-11 18:47:32.878  INFO 70964 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@628c4ac0: startup date [Thu May 11 18:44:34 EEST 2017]; root of context hierarchy
2017-05-11 18:47:32.890  INFO 70964 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@93f5d42 
2017-05-11 18:47:32.916  INFO 70964 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:48:28.027  INFO 70971 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70971 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:48:28.029  INFO 70971 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:48:28.132  INFO 70971 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@604f2bd2: startup date [Thu May 11 18:48:28 EEST 2017]; root of context hierarchy
2017-05-11 18:48:30.438  INFO 70971 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:48:30.471  INFO 70971 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:48:30.476  INFO 70971 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:48:30.772  INFO 70971 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:48:30.798  INFO 70971 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:48:32.715  INFO 70971 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 18:48:32.723  INFO 70971 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 18:48:32.835  INFO 70971 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.040s)
2017-05-11 18:48:32.897  INFO 70971 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 18:48:32.935  INFO 70971 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 18:48:33.224  INFO 70971 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 18:48:33.249  INFO 70971 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 18:48:33.373  INFO 70971 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 18:48:33.375  INFO 70971 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 18:48:33.378  INFO 70971 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 18:48:33.500  INFO 70971 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 18:48:33.882  INFO 70971 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 18:48:34.290  INFO 70971 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 18:48:34.294  INFO 70971 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@487cd177
2017-05-11 18:48:34.823  WARN 70971 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:48:34.839  WARN 70971 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:48:35.455  INFO 70971 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:48:36.159  INFO 70971 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 18:48:36.160  INFO 70971 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 18:48:36.160  INFO 70971 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 24 classes
2017-05-11 18:48:36.182  INFO 70971 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 18:48:36.182  INFO 70971 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 24 classes loaded in 64447936 nanoseconds
2017-05-11 18:48:36.202  INFO 70971 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 18:48:36.451  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 18:48:36.454  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 18:48:36.456  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 18:48:36.456  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 18:48:36.456  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 18:48:36.457  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 18:48:36.457  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 18:48:36.458  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 18:48:36.458  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 18:48:36.458  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 18:48:36.467  INFO 70971 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 18:48:36.468  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 18:48:36.472  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 18:48:36.475  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 18:48:36.475  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 18:48:36.476  INFO 70971 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 18:48:36.476  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 18:48:36.476  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 18:48:36.491  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 18:48:36.492  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxRepository
2017-05-11 18:48:36.492  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoRepository
2017-05-11 18:48:36.496  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 18:48:36.502  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 18:48:36.502  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 18:48:36.502  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 18:48:36.503  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 18:48:36.503  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 18:48:36.505  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 18:48:36.507  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 18:48:36.522  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.controller.BoxController.LOGGER
2017-05-11 18:48:36.523  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 18:48:36.523  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 18:48:36.523  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 18:48:36.524  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 18:48:36.527  WARN 70971 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 18:48:36.557  INFO 70971 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 18:48:37.889  INFO 70971 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@604f2bd2: startup date [Thu May 11 18:48:28 EEST 2017]; root of context hierarchy
2017-05-11 18:48:38.076  INFO 70971 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.getBox(java.lang.String) throws java.lang.InterruptedException
2017-05-11 18:48:38.078  INFO 70971 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 18:48:38.081  INFO 70971 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 18:48:38.082  INFO 70971 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 18:48:38.181  INFO 70971 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:48:38.182  INFO 70971 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:48:38.229  INFO 70971 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 18:48:38.285  INFO 70971 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:48:39.008  INFO 70971 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 12.576 seconds (JVM running for 14.492)
2017-05-11 18:48:39.803  INFO 70971 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 18:48:40.336  INFO 70971 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:48:40.400  INFO 70971 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 18:48:40.481  INFO 70971 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 18:48:40.520  INFO 70971 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 18:48:40.520  INFO 70971 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 18:48:40.582  INFO 70971 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 62 ms
2017-05-11 18:49:26.677  INFO 70971 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@604f2bd2: startup date [Thu May 11 18:48:28 EEST 2017]; root of context hierarchy
2017-05-11 18:49:26.688  INFO 70971 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@6e524825 
2017-05-11 18:49:26.693  INFO 70971 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:49:26.716  INFO 70971 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-507161218, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 18:49:26.718  WARN 70971 --- [Thread-6] o.n.o.d.b.transaction.BoltTransaction    : Transaction is already closed
2017-05-11 18:49:26.721  INFO 70971 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-715713961, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 18:49:26.722  WARN 70971 --- [Thread-5] o.n.o.d.b.transaction.BoltTransaction    : Transaction is already closed
2017-05-11 18:52:18.852  INFO 70977 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70977 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:52:18.854  INFO 70977 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:52:18.983  INFO 70977 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@55dfebeb: startup date [Thu May 11 18:52:18 EEST 2017]; root of context hierarchy
2017-05-11 18:52:20.621  INFO 70977 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:52:20.715  INFO 70977 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:52:20.719  INFO 70977 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:52:20.999  INFO 70977 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:52:21.022  INFO 70977 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:52:22.884  INFO 70977 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 18:52:22.892  INFO 70977 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 18:52:22.996  INFO 70977 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.044s)
2017-05-11 18:52:23.036  INFO 70977 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 18:52:23.064  INFO 70977 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 18:52:23.364  INFO 70977 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 18:52:23.390  INFO 70977 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 18:52:23.477  INFO 70977 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 18:52:23.482  INFO 70977 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 18:52:23.486  INFO 70977 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 18:52:23.541  INFO 70977 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 18:52:23.851  INFO 70977 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 18:52:24.179  INFO 70977 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 18:52:24.184  INFO 70977 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@27b337bb
2017-05-11 18:52:24.627  WARN 70977 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:52:24.633  WARN 70977 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:52:25.212  INFO 70977 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:52:25.955  INFO 70977 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 18:52:25.956  INFO 70977 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 18:52:25.956  INFO 70977 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 26 classes
2017-05-11 18:52:25.980  INFO 70977 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 18:52:25.982  INFO 70977 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 26 classes loaded in 82250538 nanoseconds
2017-05-11 18:52:26.011  INFO 70977 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 18:52:26.303  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 18:52:26.308  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 18:52:26.310  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 18:52:26.311  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 18:52:26.312  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 18:52:26.313  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 18:52:26.313  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 18:52:26.314  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 18:52:26.331  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.CargoService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.CargoService.cargoRepository
2017-05-11 18:52:26.333  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 18:52:26.333  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 18:52:26.333  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 18:52:26.336  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 18:52:26.365  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.BoxService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.BoxService.boxRepository
2017-05-11 18:52:26.370  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 18:52:26.370  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 18:52:26.370  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 18:52:26.371  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 18:52:26.371  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 18:52:26.373  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 18:52:26.376  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 18:52:26.384  INFO 70977 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 18:52:26.384  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 18:52:26.386  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 18:52:26.386  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 18:52:26.386  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 18:52:26.387  INFO 70977 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 18:52:26.387  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 18:52:26.387  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 18:52:26.391  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 18:52:26.391  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.BoxService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxService
2017-05-11 18:52:26.392  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.CargoService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoService
2017-05-11 18:52:26.397  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.controller.BoxController.LOGGER
2017-05-11 18:52:26.398  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 18:52:26.398  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 18:52:26.398  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 18:52:26.398  WARN 70977 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 18:52:26.403  INFO 70977 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 18:52:27.947  INFO 70977 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@55dfebeb: startup date [Thu May 11 18:52:18 EEST 2017]; root of context hierarchy
2017-05-11 18:52:28.163  INFO 70977 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.getBox(java.lang.String) throws java.lang.InterruptedException
2017-05-11 18:52:28.165  INFO 70977 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 18:52:28.168  INFO 70977 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 18:52:28.168  INFO 70977 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 18:52:28.233  INFO 70977 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:52:28.233  INFO 70977 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:52:28.284  INFO 70977 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 18:52:28.356  INFO 70977 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:52:29.278  INFO 70977 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 11.781 seconds (JVM running for 13.552)
2017-05-11 18:52:30.018  INFO 70977 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 18:52:45.783  INFO 70977 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:52:45.876  INFO 70977 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 18:52:45.960  INFO 70977 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 18:52:45.983  INFO 70977 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 18:52:45.983  INFO 70977 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 18:52:46.012  INFO 70977 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 28 ms
2017-05-11 18:52:52.365  INFO 70977 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1320248776, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 18:52:52.365  INFO 70977 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1463828795, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 18:52:52.366  INFO 70977 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1082687651, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 18:52:52.487  WARN 70977 --- [Thread-5] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 2 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$d46ed62a.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:27) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$a86ee80f.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:52:52.508 ERROR 70977 --- [Thread-5] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$a86ee80f.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:52:52.518  WARN 70977 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 2 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$d46ed62a.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:27) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$a86ee80f.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:52:52.528 ERROR 70977 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$a86ee80f.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:53:12.761  INFO 70977 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@55dfebeb: startup date [Thu May 11 18:52:18 EEST 2017]; root of context hierarchy
2017-05-11 18:53:12.768  INFO 70977 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@7c9248e7 
2017-05-11 18:53:12.784  INFO 70977 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:55:19.611  INFO 70979 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70979 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 18:55:19.614  INFO 70979 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 18:55:19.762  INFO 70979 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@363042d7: startup date [Thu May 11 18:55:19 EEST 2017]; root of context hierarchy
2017-05-11 18:55:21.870  INFO 70979 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:55:21.927  INFO 70979 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 18:55:21.932  INFO 70979 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 18:55:22.359  INFO 70979 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 18:55:22.395  INFO 70979 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 18:55:24.820  INFO 70979 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 18:55:24.826  INFO 70979 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 18:55:24.921  INFO 70979 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.039s)
2017-05-11 18:55:24.967  INFO 70979 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 18:55:24.982  INFO 70979 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 18:55:25.235  INFO 70979 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 18:55:25.258  INFO 70979 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 18:55:25.376  INFO 70979 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 18:55:25.380  INFO 70979 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 18:55:25.383  INFO 70979 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 18:55:25.459  INFO 70979 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 18:55:25.794  INFO 70979 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 18:55:26.131  INFO 70979 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 18:55:26.136  INFO 70979 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@64518270
2017-05-11 18:55:26.514  WARN 70979 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:55:26.521  WARN 70979 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 18:55:26.966  INFO 70979 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 18:55:27.504  INFO 70979 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 18:55:27.504  INFO 70979 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 18:55:27.504  INFO 70979 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 26 classes
2017-05-11 18:55:27.523  INFO 70979 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 18:55:27.524  INFO 70979 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 26 classes loaded in 58058605 nanoseconds
2017-05-11 18:55:27.542  INFO 70979 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 18:55:27.734  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 18:55:27.741  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 18:55:27.742  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 18:55:27.743  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 18:55:27.744  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 18:55:27.745  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 18:55:27.747  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 18:55:27.748  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 18:55:27.757  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.CargoService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.CargoService.cargoRepository
2017-05-11 18:55:27.758  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 18:55:27.758  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 18:55:27.759  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 18:55:27.764  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 18:55:27.788  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.BoxService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.BoxService.boxRepository
2017-05-11 18:55:27.790  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 18:55:27.790  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 18:55:27.791  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 18:55:27.791  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 18:55:27.791  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 18:55:27.792  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 18:55:27.792  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 18:55:27.799  INFO 70979 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 18:55:27.799  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 18:55:27.801  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 18:55:27.802  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 18:55:27.804  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 18:55:27.805  INFO 70979 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 18:55:27.805  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 18:55:27.806  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 18:55:27.810  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 18:55:27.812  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.BoxService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxService
2017-05-11 18:55:27.813  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.CargoService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoService
2017-05-11 18:55:27.822  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.controller.BoxController.LOGGER
2017-05-11 18:55:27.822  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 18:55:27.823  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 18:55:27.823  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 18:55:27.823  WARN 70979 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 18:55:27.829  INFO 70979 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 18:55:29.018  INFO 70979 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@363042d7: startup date [Thu May 11 18:55:19 EEST 2017]; root of context hierarchy
2017-05-11 18:55:29.181  INFO 70979 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.getBox(java.lang.String) throws java.lang.InterruptedException
2017-05-11 18:55:29.183  INFO 70979 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 18:55:29.186  INFO 70979 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 18:55:29.187  INFO 70979 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 18:55:29.274  INFO 70979 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:55:29.274  INFO 70979 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:55:29.315  INFO 70979 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 18:55:29.370  INFO 70979 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 18:55:30.034  INFO 70979 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 12.169 seconds (JVM running for 14.44)
2017-05-11 18:55:30.180  INFO 70979 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 18:55:30.180  INFO 70979 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 18:55:30.210  INFO 70979 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 29 ms
2017-05-11 18:55:33.944  INFO 70979 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 18:55:46.099  INFO 70979 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 18:55:46.209  INFO 70979 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 18:55:46.298  INFO 70979 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 18:55:46.502  INFO 70979 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-29342508, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 18:55:46.502  INFO 70979 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-711851455, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 18:55:46.502  INFO 70979 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1417171848, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 18:55:46.665  WARN 70979 --- [Thread-6] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 0 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$496c1dff.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:27) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$1d6c2fe4.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:55:46.680  WARN 70979 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 0 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$496c1dff.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:27) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$1d6c2fe4.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 18:55:46.683 ERROR 70979 --- [Thread-6] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$1d6c2fe4.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:55:46.697 ERROR 70979 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$1d6c2fe4.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:43) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 18:55:57.637  INFO 70979 --- [main] o.t.n.t.service.TestNodeService          : ===getBox with name:finalBoxName
2017-05-11 18:56:28.190  INFO 70979 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@363042d7: startup date [Thu May 11 18:55:19 EEST 2017]; root of context hierarchy
2017-05-11 18:56:28.193  INFO 70979 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@46a43c31 
2017-05-11 18:56:28.205  INFO 70979 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 19:03:16.150  INFO 70987 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70987 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 19:03:16.152  INFO 70987 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 19:03:16.413  INFO 70987 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4d5b6aac: startup date [Thu May 11 19:03:16 EEST 2017]; root of context hierarchy
2017-05-11 19:03:18.411  INFO 70987 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 19:03:18.444  INFO 70987 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 19:03:18.448  INFO 70987 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 19:03:18.741  INFO 70987 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 19:03:18.770  INFO 70987 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 19:03:20.516  INFO 70987 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 19:03:20.523  INFO 70987 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 19:03:20.596  INFO 70987 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.027s)
2017-05-11 19:03:20.633  INFO 70987 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 19:03:20.652  INFO 70987 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 19:03:20.857  INFO 70987 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 19:03:20.892  INFO 70987 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 19:03:21.053  INFO 70987 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 19:03:21.057  INFO 70987 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 19:03:21.060  INFO 70987 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 19:03:21.170  INFO 70987 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 19:03:21.434  INFO 70987 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 19:03:21.788  INFO 70987 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 19:03:21.791  INFO 70987 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6ae62c7e
2017-05-11 19:03:21.957  WARN 70987 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 19:03:21.961  WARN 70987 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 19:03:22.461  INFO 70987 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 19:03:22.939  INFO 70987 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 19:03:22.940  INFO 70987 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 19:03:22.940  INFO 70987 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 26 classes
2017-05-11 19:03:22.959  INFO 70987 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 19:03:22.960  INFO 70987 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 26 classes loaded in 48673035 nanoseconds
2017-05-11 19:03:22.973  INFO 70987 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 19:03:23.164  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 19:03:23.174  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 19:03:23.174  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 19:03:23.175  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 19:03:23.175  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 19:03:23.175  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 19:03:23.175  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 19:03:23.176  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 19:03:23.180  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.CargoService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.CargoService.cargoRepository
2017-05-11 19:03:23.184  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 19:03:23.186  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 19:03:23.187  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 19:03:23.192  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 19:03:23.218  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.BoxService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.BoxService.boxRepository
2017-05-11 19:03:23.224  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 19:03:23.225  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 19:03:23.225  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 19:03:23.225  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 19:03:23.226  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 19:03:23.226  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 19:03:23.227  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 19:03:23.230  INFO 70987 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 19:03:23.231  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 19:03:23.232  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 19:03:23.233  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 19:03:23.234  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 19:03:23.234  INFO 70987 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 19:03:23.234  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 19:03:23.235  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 19:03:23.241  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 19:03:23.242  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.BoxService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxService
2017-05-11 19:03:23.245  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.CargoService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoService
2017-05-11 19:03:23.251  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.controller.BoxController.LOGGER
2017-05-11 19:03:23.252  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 19:03:23.259  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 19:03:23.260  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 19:03:23.260  WARN 70987 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 19:03:23.266  INFO 70987 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 19:03:24.509  INFO 70987 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@4d5b6aac: startup date [Thu May 11 19:03:16 EEST 2017]; root of context hierarchy
2017-05-11 19:03:24.648  INFO 70987 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.getBox(java.lang.String) throws java.lang.InterruptedException
2017-05-11 19:03:24.650  INFO 70987 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 19:03:24.653  INFO 70987 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 19:03:24.655  INFO 70987 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 19:03:24.717  INFO 70987 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 19:03:24.718  INFO 70987 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 19:03:24.826  INFO 70987 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 19:03:24.873  INFO 70987 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 19:03:25.341  INFO 70987 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 10.732 seconds (JVM running for 12.326)
2017-05-11 19:03:25.455  INFO 70987 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 19:03:25.456  INFO 70987 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 19:03:25.479  INFO 70987 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 23 ms
2017-05-11 19:03:25.842  INFO 70987 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 19:03:26.192  INFO 70987 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 19:03:26.249  INFO 70987 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 19:03:26.303  INFO 70987 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 19:03:26.447  INFO 70987 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1613046694, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 19:03:26.447  INFO 70987 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-895343253, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 19:03:26.447  INFO 70987 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-2058272437, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 19:03:26.606  WARN 70987 --- [Thread-6] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 3 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$331b03cf.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:28) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$71b15b4.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:47) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 19:03:26.622  WARN 70987 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 3 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$331b03cf.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:28) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$71b15b4.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:47) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 19:03:26.622 ERROR 70987 --- [Thread-6] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$71b15b4.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:47) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 19:03:26.632 ERROR 70987 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$71b15b4.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:47) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 19:03:29.473  INFO 70987 --- [main] o.t.n.t.service.TestNodeService          : ===getBox with name:OUTSIDE_TRANSACTION_BOX_NAME
2017-05-11 19:03:29.514  INFO 70987 --- [main] o.t.n.t.service.TestNodeService          : ===getBox with name:INSIDE_TRANSACTION_BOX_NAME
2017-05-11 19:03:29.539  INFO 70987 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4d5b6aac: startup date [Thu May 11 19:03:16 EEST 2017]; root of context hierarchy
2017-05-11 19:03:29.546  INFO 70987 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@38da4cc 
2017-05-11 19:03:29.552  INFO 70987 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 19:06:29.879  INFO 70993 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 70993 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 19:06:29.882  INFO 70993 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 19:06:30.105  INFO 70993 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@363042d7: startup date [Thu May 11 19:06:30 EEST 2017]; root of context hierarchy
2017-05-11 19:06:32.215  INFO 70993 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 19:06:32.248  INFO 70993 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 19:06:32.252  INFO 70993 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 19:06:32.661  INFO 70993 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 19:06:32.714  INFO 70993 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 19:06:34.886  INFO 70993 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 19:06:34.898  INFO 70993 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 19:06:35.007  INFO 70993 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.046s)
2017-05-11 19:06:35.076  INFO 70993 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1.0.1
2017-05-11 19:06:35.089  INFO 70993 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2017-05-11 19:06:35.377  INFO 70993 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 19:06:35.426  INFO 70993 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 19:06:35.588  INFO 70993 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 19:06:35.603  INFO 70993 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 19:06:35.608  INFO 70993 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 19:06:35.759  INFO 70993 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 19:06:36.158  INFO 70993 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 19:06:36.555  INFO 70993 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 19:06:36.566  INFO 70993 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5d71b500
2017-05-11 19:06:37.043  WARN 70993 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 19:06:37.054  WARN 70993 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 19:06:37.686  INFO 70993 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 19:06:38.521  INFO 70993 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 19:06:38.522  INFO 70993 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 19:06:38.522  INFO 70993 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 26 classes
2017-05-11 19:06:38.554  INFO 70993 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 19:06:38.554  INFO 70993 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 26 classes loaded in 83975667 nanoseconds
2017-05-11 19:06:38.575  INFO 70993 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 19:06:38.851  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 19:06:38.854  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 19:06:38.855  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 19:06:38.855  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 19:06:38.855  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 19:06:38.856  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 19:06:38.856  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 19:06:38.856  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 19:06:38.866  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.CargoService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.CargoService.cargoRepository
2017-05-11 19:06:38.867  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 19:06:38.868  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 19:06:38.868  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 19:06:38.871  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 19:06:38.909  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.BoxService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.BoxService.boxRepository
2017-05-11 19:06:38.921  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 19:06:38.922  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 19:06:38.922  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 19:06:38.922  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 19:06:38.923  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 19:06:38.923  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 19:06:38.924  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 19:06:38.930  INFO 70993 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 19:06:38.931  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 19:06:38.932  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 19:06:38.933  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 19:06:38.933  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 19:06:38.934  INFO 70993 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 19:06:38.934  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 19:06:38.934  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 19:06:38.942  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 19:06:38.942  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.BoxService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxService
2017-05-11 19:06:38.943  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.CargoService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoService
2017-05-11 19:06:38.949  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.controller.BoxController.LOGGER
2017-05-11 19:06:38.950  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 19:06:38.950  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 19:06:38.950  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 19:06:38.951  WARN 70993 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 19:06:38.959  INFO 70993 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 19:06:40.350  INFO 70993 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@363042d7: startup date [Thu May 11 19:06:30 EEST 2017]; root of context hierarchy
2017-05-11 19:06:40.533  INFO 70993 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.getBox(java.lang.String) throws java.lang.InterruptedException
2017-05-11 19:06:40.536  INFO 70993 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 19:06:40.539  INFO 70993 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 19:06:40.544  INFO 70993 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 19:06:40.663  INFO 70993 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 19:06:40.663  INFO 70993 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 19:06:40.702  INFO 70993 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 19:06:40.762  INFO 70993 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 19:06:41.482  INFO 70993 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 12.9 seconds (JVM running for 14.776)
2017-05-11 19:06:41.627  INFO 70993 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 19:06:41.628  INFO 70993 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 19:06:41.656  INFO 70993 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 27 ms
2017-05-11 19:06:46.043  INFO 70993 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 19:06:46.526  INFO 70993 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 19:06:46.628  INFO 70993 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 19:06:46.719  INFO 70993 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 19:06:46.898  INFO 70993 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1581949932, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 19:06:46.899  INFO 70993 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-1795101388, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 19:06:46.903  INFO 70993 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-2115268749, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 19:06:55.149  WARN 70993 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 1 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$ba0161ee.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:28) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$8e0173d3.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:47) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 19:06:59.848  WARN 70993 --- [Thread-5] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 1 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$ba0161ee.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:28) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$8e0173d3.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:47) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 19:06:59.960 ERROR 70993 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$8e0173d3.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:47) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 19:07:09.432 ERROR 70993 --- [Thread-5] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$8e0173d3.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:47) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 19:07:14.624  INFO 70993 --- [main] o.t.n.t.service.TestNodeService          : ===getBox with name:OUTSIDE_TRANSACTION_BOX_NAME
2017-05-11 19:07:18.624  INFO 70993 --- [main] o.t.n.t.service.TestNodeService          : ===getBox with name:INSIDE_TRANSACTION_BOX_NAME
2017-05-11 19:07:19.624  INFO 70993 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@363042d7: startup date [Thu May 11 19:06:30 EEST 2017]; root of context hierarchy
2017-05-11 19:07:19.634  INFO 70993 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@3a34df4c 
2017-05-11 19:07:19.641  INFO 70993 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 19:16:33.079  INFO 71102 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Starting ChainedTransactionFailureTest on Konstantinoss-Mac-mini.local with PID 71102 (started by kp in /Users/kp/dev/gen_projects/transaction-test)
2017-05-11 19:16:33.083  INFO 71102 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : The following profiles are active: test
2017-05-11 19:16:33.167  INFO 71102 --- [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7d0b7e3c: startup date [Thu May 11 19:16:33 EEST 2017]; root of context hierarchy
2017-05-11 19:16:34.352  INFO 71102 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 19:16:34.389  INFO 71102 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.BoxRepository.
2017-05-11 19:16:34.393  INFO 71102 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.CargoRepository.
2017-05-11 19:16:34.549  INFO 71102 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2017-05-11 19:16:34.563  INFO 71102 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data JPA - Could not safely identify store assignment for repository candidate interface org.test.neo4j.transaction.repository.TestNodeRepository.
2017-05-11 19:16:35.710  INFO 71102 --- [main] o.f.core.internal.util.VersionPrinter    : Flyway 3.2.1 by Boxfuse
2017-05-11 19:16:35.717  INFO 71102 --- [main] o.f.c.i.dbsupport.DbSupportFactory       : Database: jdbc:postgresql://localhost:15003/test_transaction?searchpath=public (PostgreSQL 9.6)
2017-05-11 19:16:35.804  INFO 71102 --- [main] o.f.core.internal.command.DbValidate     : Validated 2 migrations (execution time 00:00.023s)
2017-05-11 19:16:35.843  INFO 71102 --- [main] o.f.c.i.metadatatable.MetaDataTableImpl  : Creating Metadata table: "public"."schema_version"
2017-05-11 19:16:36.043  INFO 71102 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": << Empty Schema >>
2017-05-11 19:16:36.044  INFO 71102 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version 1.0.0 - Schema
2017-05-11 19:16:36.156  INFO 71102 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version 1.0.1 - Schema
2017-05-11 19:16:36.261  INFO 71102 --- [main] o.f.core.internal.command.DbMigrate      : Successfully applied 2 migrations to schema "public" (execution time 00:00.425s).
2017-05-11 19:16:36.433  INFO 71102 --- [main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2017-05-11 19:16:36.454  INFO 71102 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2017-05-11 19:16:36.542  INFO 71102 --- [main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.0.12.Final}
2017-05-11 19:16:36.544  INFO 71102 --- [main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2017-05-11 19:16:36.546  INFO 71102 --- [main] org.hibernate.cfg.Environment            : HHH000021: Bytecode provider name : javassist
2017-05-11 19:16:36.600  INFO 71102 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2017-05-11 19:16:36.777  INFO 71102 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2017-05-11 19:16:37.018  INFO 71102 --- [main] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2017-05-11 19:16:37.020  INFO 71102 --- [main] org.hibernate.type.BasicTypeRegistry     : HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@51d719bc
2017-05-11 19:16:37.191  WARN 71102 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 19:16:37.194  WARN 71102 --- [main] org.hibernate.orm.deprecation            : HHH90000014: Found use of deprecated [org.hibernate.id.SequenceHiLoGenerator] sequence-based id generator; use org.hibernate.id.enhanced.SequenceStyleGenerator instead.  See Hibernate Domain Model Mapping Guide for details.
2017-05-11 19:16:37.623  INFO 71102 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2017-05-11 19:16:38.013  INFO 71102 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Starting Post-processing phase
2017-05-11 19:16:38.014  INFO 71102 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building annotation class map
2017-05-11 19:16:38.014  INFO 71102 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Building interface class map for 26 classes
2017-05-11 19:16:38.031  INFO 71102 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : Post-processing complete
2017-05-11 19:16:38.032  INFO 71102 --- [main] o.neo4j.ogm.metadata.ClassFileProcessor  : 26 classes loaded in 51475587 nanoseconds
2017-05-11 19:16:38.080  INFO 71102 --- [main] org.neo4j.ogm.service.DriverService      : Using: [org.neo4j.ogm.drivers.bolt.driver.BoltDriver]
2017-05-11 19:16:38.235  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.service.TestNodeService.LOGGER
2017-05-11 19:16:38.236  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=errorEnabled]
2017-05-11 19:16:38.237  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=name]
2017-05-11 19:16:38.237  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=infoEnabled]
2017-05-11 19:16:38.238  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=debugEnabled]
2017-05-11 19:16:38.238  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=traceEnabled]
2017-05-11 19:16:38.238  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=warnEnabled]
2017-05-11 19:16:38.239  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.TestNodeService when creating persistent property for field: private org.test.neo4j.transaction.repository.TestNodeRepository org.test.neo4j.transaction.service.TestNodeService.testNodeRepository
2017-05-11 19:16:38.242  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.CargoService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.CargoService.cargoRepository
2017-05-11 19:16:38.242  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.WrapperService.boxRepository
2017-05-11 19:16:38.243  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.service.WrapperService.cargoRepository
2017-05-11 19:16:38.243  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.WrapperService when creating persistent property for field: private org.test.neo4j.transaction.service.TestNodeService org.test.neo4j.transaction.service.WrapperService.testNodeService
2017-05-11 19:16:38.245  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.TestNodeController when creating persistent property for field: private org.test.neo4j.transaction.TestService org.test.neo4j.transaction.controller.TestNodeController.testService
2017-05-11 19:16:38.264  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.service.BoxService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.service.BoxService.boxRepository
2017-05-11 19:16:38.271  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private int org.test.neo4j.transaction.TestService$TestNodeWrapperObject.index
2017-05-11 19:16:38.273  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.name
2017-05-11 19:16:38.274  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.TestService$TestNodeWrapperObject.uniqueId
2017-05-11 19:16:38.275  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService$TestNodeWrapperObject when creating persistent property for field: private org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService$TestNodeWrapperObject.wrapperService
2017-05-11 19:16:38.276  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.service.WrapperService org.test.neo4j.transaction.TestService.wrapperService
2017-05-11 19:16:38.277  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.TestService.boxRepository
2017-05-11 19:16:38.277  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.TestService when creating persistent property for field: org.test.neo4j.transaction.repository.CargoRepository org.test.neo4j.transaction.TestService.cargoRepository
2017-05-11 19:16:38.281  INFO 71102 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.jdbc.core.JdbcTemplate so treating as simple type for SD Commons
2017-05-11 19:16:38.282  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.springframework.jdbc.core.JdbcTemplate org.test.neo4j.transaction.test.ChainedTransactionFailureTest.jdbcTemplate
2017-05-11 19:16:38.283  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.neo4j.ogm.session.Session org.test.neo4j.transaction.test.ChainedTransactionFailureTest.session
2017-05-11 19:16:38.284  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.TestService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.testService
2017-05-11 19:16:38.284  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.web.context.WebApplicationContext org.test.neo4j.transaction.test.ChainedTransactionFailureTest.webApplicationContext
2017-05-11 19:16:38.284  INFO 71102 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : No class information found in OGM meta-data for class org.springframework.test.web.servlet.MockMvc so treating as simple type for SD Commons
2017-05-11 19:16:38.285  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.test.web.servlet.MockMvc org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mockMvc
2017-05-11 19:16:38.285  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: private org.springframework.http.converter.HttpMessageConverter org.test.neo4j.transaction.test.ChainedTransactionFailureTest.mappingJackson2HttpMessageConverter
2017-05-11 19:16:38.289  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : Owning ClassInfo is null for field: null and propertyDescriptor: org.springframework.beans.GenericTypeAwarePropertyDescriptor[name=supportedMediaTypes]
2017-05-11 19:16:38.290  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.BoxService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.boxService
2017-05-11 19:16:38.290  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.test.ChainedTransactionFailureTest when creating persistent property for field: org.test.neo4j.transaction.service.CargoService org.test.neo4j.transaction.test.ChainedTransactionFailureTest.cargoService
2017-05-11 19:16:38.309  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: private final org.slf4j.Logger org.test.neo4j.transaction.controller.BoxController.LOGGER
2017-05-11 19:16:38.310  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.controller.BoxController when creating persistent property for field: org.test.neo4j.transaction.repository.BoxRepository org.test.neo4j.transaction.controller.BoxController.boxRepository
2017-05-11 19:16:38.311  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresDataSourceUrl
2017-05-11 19:16:38.313  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresUsername
2017-05-11 19:16:38.313  WARN 71102 --- [main] o.s.d.n.mapping.Neo4jPersistentProperty  : No identity field found for class of type: org.test.neo4j.transaction.DatabaseConfiguration when creating persistent property for field: private java.lang.String org.test.neo4j.transaction.DatabaseConfiguration.postgresPassword
2017-05-11 19:16:38.328  INFO 71102 --- [main] o.s.d.neo4j.mapping.Neo4jMappingContext  : Neo4jMappingContext initialisation completed
2017-05-11 19:16:39.181  INFO 71102 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@7d0b7e3c: startup date [Thu May 11 19:16:33 EEST 2017]; root of context hierarchy
2017-05-11 19:16:39.303  INFO 71102 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/box/get/{name}],methods=[GET]}" onto public org.springframework.http.ResponseEntity<org.test.neo4j.transaction.domain.Box> org.test.neo4j.transaction.controller.BoxController.getBox(java.lang.String) throws java.lang.InterruptedException
2017-05-11 19:16:39.305  INFO 71102 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/test/run],methods=[GET]}" onto public org.springframework.http.ResponseEntity org.test.neo4j.transaction.controller.TestNodeController.createNodeAndSubEntities() throws java.lang.InterruptedException
2017-05-11 19:16:39.309  INFO 71102 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2017-05-11 19:16:39.310  INFO 71102 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2017-05-11 19:16:39.359  INFO 71102 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 19:16:39.359  INFO 71102 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 19:16:39.396  INFO 71102 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in globalExceptionHandler
2017-05-11 19:16:39.440  INFO 71102 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2017-05-11 19:16:39.777  INFO 71102 --- [main] o.t.n.t.t.ChainedTransactionFailureTest  : Started ChainedTransactionFailureTest in 7.289 seconds (JVM running for 8.291)
2017-05-11 19:16:39.884  INFO 71102 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 19:16:39.885  INFO 71102 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 19:16:39.905  INFO 71102 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 20 ms
2017-05-11 19:16:40.484  INFO 71102 --- [main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2017-05-11 19:16:40.786  INFO 71102 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 19:16:40.879  INFO 71102 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 19:16:41.325  INFO 71102 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 19:16:41.754  INFO 71102 --- [Thread-5] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-930480473, type=node, props={name=testName_0, uniqueId=testUniqueId}}]}
2017-05-11 19:16:41.765  INFO 71102 --- [Thread-6] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-265697752, type=node, props={name=testName_1, uniqueId=testUniqueId}}]}
2017-05-11 19:16:41.775  INFO 71102 --- [Thread-7] o.n.o.drivers.bolt.request.BoltRequest   : Request: UNWIND {rows} as row CREATE (n:`TEST_NODE`) SET n=row.props RETURN row.nodeRef as ref, ID(n) as id, row.type as type with params {rows=[{nodeRef=-493872395, type=node, props={name=testName_2, uniqueId=testUniqueId}}]}
2017-05-11 19:16:42.150  WARN 71102 --- [Thread-7] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 2 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$f2c1dc8.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:28) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$e32c2fad.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:47) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 19:16:42.174 ERROR 71102 --- [Thread-7] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$e32c2fad.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:47) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 19:16:42.181  WARN 71102 --- [Thread-6] o.t.n.t.service.TestNodeService          : =============A node with the same id already exists in neo4j ,uniqueId is:testUniqueId

org.neo4j.driver.v1.exceptions.ClientException: Node 2 already exists with label TEST_NODE and property "uniqueId"=[testUniqueId]
	at org.neo4j.driver.internal.net.SocketResponseHandler.handleFailureMessage(SocketResponseHandler.java:75) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.unpackFailureMessage(PackStreamMessageFormatV1.java:457) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.messaging.PackStreamMessageFormatV1$Reader.read(PackStreamMessageFormatV1.java:418) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketClient.receiveOne(SocketClient.java:176) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.SocketConnection.receiveOne(SocketConnection.java:212) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.ConcurrencyGuardingConnection.receiveOne(ConcurrencyGuardingConnection.java:165) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.net.pooling.PooledSocketConnection.receiveOne(PooledSocketConnection.java:183) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.receiveOne(InternalStatementResult.java:335) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.tryFetchNext(InternalStatementResult.java:325) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.driver.internal.InternalStatementResult.keys(InternalStatementResult.java:185) ~[neo4j-java-driver-1.2.1.jar:1.2.1-da0c7e04438d7f35a51f661abcdd6ba859bdbc5f]
	at org.neo4j.ogm.drivers.bolt.request.BoltRequest.execute(BoltRequest.java:91) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:289) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.request.RequestExecutor.executeSave(RequestExecutor.java:68) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:85) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.delegates.SaveDelegate.save(SaveDelegate.java:44) ~[neo4j-ogm-core-2.1.2.jar:na]
	at org.neo4j.ogm.session.Neo4jSession.save(Neo4jSession.java:447) ~[neo4j-ogm-core-2.1.2.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:131) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at com.sun.proxy.$Proxy102.save(Unknown Source) ~[na:na]
	at org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.save(SimpleNeo4jRepository.java:77) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_66]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_66]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_66]
	at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_66]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:504) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:489) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:461) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:57) ~[spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) ~[spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at com.sun.proxy.$Proxy104.save(Unknown Source) ~[na:na]
	at org.test.neo4j.transaction.service.TestNodeService.persistTestNode(TestNodeService.java:27) ~[classes/:na]
	at org.test.neo4j.transaction.service.TestNodeService$$FastClassBySpringCGLIB$$6f4ce846.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.TestNodeService$$EnhancerBySpringCGLIB$$f2c1dc8.persistTestNode(<generated>) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService.persistAll(WrapperService.java:28) [classes/:na]
	at org.test.neo4j.transaction.service.WrapperService$$FastClassBySpringCGLIB$$204b641d.invoke(<generated>) [classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204) [spring-core-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$e32c2fad.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:47) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]

2017-05-11 19:16:42.207 ERROR 71102 --- [Thread-6] o.s.d.n.t.Neo4jTransactionManager        : Commit exception overridden by rollback exception

org.springframework.dao.InvalidDataAccessApiUsageException: Transaction is already closed; nested exception is org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.springframework.data.neo4j.transaction.SessionFactoryUtils.convertOgmAccessException(SessionFactoryUtils.java:139) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:258) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.data.transaction.MultiTransactionStatus.commit(MultiTransactionStatus.java:73) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.data.transaction.ChainedTransactionManager.commit(ChainedTransactionManager.java:145) [spring-data-commons-1.13.3.RELEASE.jar:na]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:504) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:292) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) [spring-tx-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673) [spring-aop-4.3.8.RELEASE.jar:4.3.8.RELEASE]
	at org.test.neo4j.transaction.service.WrapperService$$EnhancerBySpringCGLIB$$e32c2fad.persistAll(<generated>) [classes/:na]
	at org.test.neo4j.transaction.TestService$TestNodeWrapperObject.run(TestService.java:47) [classes/:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_66]
Caused by: org.neo4j.ogm.exception.TransactionException: Transaction is already closed
	at org.neo4j.ogm.drivers.bolt.transaction.BoltTransaction.commit(BoltTransaction.java:94) ~[neo4j-ogm-bolt-driver-2.1.2.jar:na]
	at org.springframework.data.neo4j.transaction.Neo4jTransactionManager.doCommit(Neo4jTransactionManager.java:256) ~[spring-data-neo4j-4.2.1.RELEASE.jar:na]
	... 12 common frames omitted

2017-05-11 19:16:44.772  INFO 71102 --- [main] o.t.n.t.service.TestNodeService          : ===getBox with name:OUTSIDE_TRANSACTION_BOX_NAME
2017-05-11 19:16:44.804  INFO 71102 --- [main] o.t.n.t.service.TestNodeService          : ===getBox with name:INSIDE_TRANSACTION_BOX_NAME
2017-05-11 19:16:44.819  INFO 71102 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2017-05-11 19:16:44.820  INFO 71102 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2017-05-11 19:16:44.822  INFO 71102 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 2 ms
2017-05-11 19:16:44.887  INFO 71102 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: MATCH (n:TEST_NODE) DETACH DELETE n with params {}
2017-05-11 19:16:45.001  INFO 71102 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: create (t:TEST_NODE{name:"INIT_NODE",uniqueId:"papageorgopoulos"}) return t with params {}
2017-05-11 19:16:45.079  INFO 71102 --- [main] o.n.o.drivers.bolt.request.BoltRequest   : Request: CREATE CONSTRAINT ON (t:TEST_NODE) ASSERT t.uniqueId IS UNIQUE with params {}
2017-05-11 19:16:45.093  INFO 71102 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [org.test.neo4j.transaction.TransactionTestApplicationTests], using SpringBootContextLoader
2017-05-11 19:16:45.094  INFO 71102 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [org.test.neo4j.transaction.TransactionTestApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2017-05-11 19:16:45.105  INFO 71102 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2017-05-11 19:16:45.126  INFO 71102 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@106459d9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@33a71d23, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@23c05889, org.springframework.test.context.support.DirtiesContextTestExecutionListener@12166229, org.springframework.test.context.transaction.TransactionalTestExecutionListener@208e5b23, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2bcb1414, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@aee05f4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2b4829aa, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@794d28a3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@a55e82a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@70ee9d31, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1a01ffff]
2017-05-11 19:16:45.176  INFO 71102 --- [Thread-4] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@7d0b7e3c: startup date [Thu May 11 19:16:33 EEST 2017]; root of context hierarchy
2017-05-11 19:16:45.179  INFO 71102 --- [Thread-4] o.n.ogm.drivers.bolt.driver.BoltDriver   : Shutting down Bolt driver org.neo4j.driver.internal.InternalDriver@3c3304c4 
2017-05-11 19:16:45.182  INFO 71102 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
